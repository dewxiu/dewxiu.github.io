<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Call Me</title>
    <link href="./css/wangeditor.css" rel="stylesheet" />
    <link rel="stylesheet" href="./css/index.css" />

    <script src="../assets/vue/vue@3.5.13.global.js"></script>
    <script src="../assets/vue/vue-router@4.5.0.global.js"></script>
    <script src="../assets/vue/element-plus@2.9.7.js"></script>
    <script src="../assets/vue/vant@4.min.js"></script>
    <script src="./js/md5.js"></script>
    <script src="./js/qrcode.js"></script>
    <script src="./js/global.js"></script>

    <script>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?ac96bc433c6e40a53e1cf5f02d1e4721";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  </head>

  <body>
    <div id="app"></div>
    <!-- Home 组件 -->
    <script type="text/html" id="homeTemplate">
      <div class="app-main">
        <div class="header">
          <p>Header</p>
        </div>
        <div class="layout">
          <div class="menu">
            <div v-for="(item, index) in menuList" :key="index">
              <div class="menu-item">
                <router-link :to="item.path"> {{item.meta.title}} </router-link>
              </div>
            </div>
          </div>
          <div class="container">
            <div class="nav">Nav</div>
            <div class="content">
              <router-view v-slot="{ Component }">
                <keep-alive :include="cachedComponents">
                  <transition name="fade" mode="out-in">
                    <component :is="Component" />
                  </transition>
                </keep-alive>
              </router-view>
            </div>
            <div class="footer">Footer</div>
          </div>
        </div>
      </div>
    </script>
    <!-- 组件 -->
    <script type="text/html" id="mainTemplate">
      <div class="main-content">
        <div>主页</div>
        <div>222</div>
        <div>333</div>
      </div>
    </script>
    <script type="text/html" id="contactTemplate">
      <p>联系组件</p>
    </script>
    <script type="text/html" id="detailTemplate">
      <div>详情</div>
    </script>
    <script type="text/html" id="testTemplate">
      <p>22测试组件</p>
    </script>
    <script type="text/html" id="demoTemplate">
      <p>Demo组件</p>
    </script>
    <!-- 全屏组件 -->
    <script type="text/html" id="qrcodeTemplate">
      <div class="qrcode">
        <div class="make-qrcode">
          <el-button type="primary" link @click="onGenerate">
            生成我的二维码
          </el-button>
        </div>
        <div class="notice">
          <h3 class="title">欢迎使用Call Me</h3>
          <div class="list-wrap">
            <div class="introduce">
              Call Me是一个扫码拨打电话的快捷应用入口, 请使用微信扫码打开,
              生成自己的二维码请点击右上角入口, 生成完成后扫码即可查看,
              并提示您是否拨打电话。它具备以下功能:
            </div>
            <div
              v-for="(item, index) in descList"
              class="list-item"
              :key="index"
            >
              {{item}}
            </div>
          </div>
          <div class="content">
            <div class="ui-ta-c mt20">
              <img style="width:75%" :src="wechat" alt="添加二维码" />
            </div>
            <div class="ui-ta-c">(添加微信 获取邀请码)</div>
            <div class="ui-ta-c mt20">
              <img style="width:75%" :src="callme" alt="邀请二维码" />
            </div>
            <div class="ui-ta-c">(长按保存·分享)</div>
          </div>
          <p class="author">By @Hailen</p>
        </div>

        <div class="footer">
          <span>If you want to use it,</span>
          <span style="white-space: nowrap">
            please contact <b>@Hailen</b> to get.
          </span>
        </div>
        <!-- 弹窗 -->
        <van-overlay :show="show" @click="show = false">
          <div class="wrapper">
            <div class="block" @click.stop>
              <van-form
                @submit="onSubmit"
                label-width="55"
                label-align="right"
                :colon="true"
                :required="false"
                :show-error="true"
                :scroll-to-error="true"
                :show-error-message="false"
              >
                <van-cell-group inset>
                  <van-field
                    v-for="(item, index) in formItems"
                    v-model="formData[item.prop]"
                    :key="index"
                    :name="item.prop"
                    :label="item.label"
                    :rules="item.rules"
                    :placeholder="item.placeholder"
                  />
                </van-cell-group>
                <div style="margin: 16px;" class="flex-center">
                  <van-button type="primary" native-type="submit">
                    提交生成
                  </van-button>
                  <van-button native-type="reset" style="margin-left: 15px;">
                    清空
                  </van-button>
                </div>
              </van-form>
              <div class="qrcode-box">
                <img id="code-img" alt="二维码" />
                <div class="gen-code"></div>
                <div v-if="isWechat" class="code-tip">(长按二维码保存)</div>
                <div v-else id="download" class="form-button default">
                  下载二维码
                </div>
              </div>
            </div>
          </div>
        </van-overlay>
      </div>
    </script>
    <script type="module" src="./src/main.js"></script>
  </body>
</html>
