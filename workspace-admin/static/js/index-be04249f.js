import{useRole as z}from"./hook-d5f9d2e2.js";import{P as E}from"./index-f740707b.js";import{a as i}from"./hooks-330877fb.js";import{u as H}from"./common-ed067d83.js";import{B as O,d as j,a as q,b as A}from"./index-7ed6ab55.js";import{e as F,r as f,q as s,c as L,l as e,j as _,C as a,w as b,o as c,m as n,v as u,_ as G}from"./index-e18d8825.js";import"./form.vue_vue_type_script_setup_true_lang-a2e9a32a.js";import"./config-ecbb22d3.js";import"./TitleCate-3b5df917.js";import"./orgList-6a75d374.js";import"./sortable.esm-9c3c89c5.js";import"./search-cc37b371.js";const J=F({__name:"index",setup(K){const{formData:v,loading:C,columns:d,dataList:y,pagination:x,onSearch:m,openDialog:p,handleDelete:k,handleSizeChange:S,handleCurrentChange:N,handleSelectionChange:P}=z(),w=[{label:"ID",value:"id"},{label:"数据库简称",value:"accountName"},{label:"IP地址",value:"ipAddress"},{label:"连接数据库名称",value:"linkDbName"},{label:"连接类型",value:"dbType"},{label:"用户名",value:"username"},{label:"密码",value:"password"},{label:"昵称",value:"nick"},{label:"状态",value:"accountStatus"},{label:"组织ID",value:"orgId"}],B=f({}),D=f(),t=H(".app-main .el-scrollbar",60+64+48),I=h=>{v.value=h.value,m()};return(h,g)=>{const l=s("el-button"),R=s("el-popconfirm"),T=s("pure-table");return c(),L("div",{class:"main ui-h-100",ref_key:"boxRef",ref:D},[e(d).length?(c(),_(e(E),{key:0,title:"列表",columns:e(d),onRefresh:e(m)},{title:a(()=>[n(O,{class:"action-search",onTagSearch:I,options:w,placeholder:"请输入数据库简称",searchField:"accountName",default:B.value},null,8,["default"])]),buttons:a(()=>[n(l,{type:"primary",icon:e(i)(e(j)),onClick:g[0]||(g[0]=o=>e(p)("add"))},{default:a(()=>[u("添加组织")]),_:1},8,["icon"])]),default:a(({size:o,dynamicColumns:$})=>[e(t)?(c(),_(T,{key:0,border:"",height:e(t),"max-height":e(t),"align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(C),size:o,data:e(y),columns:$,pagination:e(x),paginationSmall:o==="small","header-cell-style":{background:"var(--el-table-row-hover-bg-color)",color:"var(--el-text-color-primary)"},onSelectionChange:e(P),onPageSizeChange:e(S),onPageCurrentChange:e(N)},{operation:a(({row:r})=>[n(l,{class:"reset-margin",link:"",type:"primary",size:o,icon:e(i)(e(q)),onClick:V=>e(p)("edit",r)},{default:a(()=>[u(" 修改 ")]),_:2},1032,["size","icon","onClick"]),n(R,{width:180,title:`确认删除组织名称
【${r.orgName}】?`,onConfirm:V=>e(k)(r)},{reference:a(()=>[n(l,{class:"reset-margin",link:"",type:"primary",size:o,icon:e(i)(e(A))},{default:a(()=>[u(" 删除 ")]),_:2},1032,["size","icon"])]),_:2},1032,["title","onConfirm"])]),_:2},1032,["height","max-height","loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])):b("",!0)]),_:1},8,["columns","onRefresh"])):b("",!0)],512)}}});const le=G(J,[["__scopeId","data-v-fad1df3c"]]);export{le as default};
