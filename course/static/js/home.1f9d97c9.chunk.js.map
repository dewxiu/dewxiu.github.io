{"version":3,"sources":["utils/storage.js","utils/index.js","router/useAuth.js","views/home/index.js"],"names":["getUserInfo","JSON","parse","localStorage","getItem","setUserInfo","userinfo","userInfo","setItem","stringify","removeUserInfo","removeItem","getCollapse","setCollapse","collapse","getActiveTitle","Number","setActiveTitle","id","getViewPos","articleId","posObj","setViewPos","pos","name","percent","rest","curPercent","newObj","removeViewPos","oPosObj","getHistory","setHistory","option","oList","idx","findIndex","item","splice","list","removeHistory","newList","filter","clearHistory","isPc","navigator","userAgent","match","getURLParameters","url","reduce","a","v","val","decodeURIComponent","slice","indexOf","throttle","func","delay","prev","Date","now","args","call","rangeRandom","start","end","parseInt","Math","random","formatDate","d","format","date","paddNum","num","replace","cfg","yyyy","getFullYear","yy","toString","substring","M","getMonth","MM","getDate","dd","hh","getHours","mm","getMinutes","ss","getSeconds","m","useAuth","history","useHistory","React","useEffect","device","username","password","Dialog","alert","content","then"],"mappings":"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","file":"static/js/home.1f9d97c9.chunk.js","sourcesContent":["const __userinfo = \"__userinfo__\";\nconst __collapse = \"__collapse__\";\nconst __activeKey = \"__activeKey__\";\nconst __view_pos = \"__view_pos__\";\nconst __history = \"__history__\";\n\n/** ==================== 保存用户名和密码 ==================== */\nexport const getUserInfo = () => JSON.parse(localStorage.getItem(__userinfo) || \"{}\");\nexport const setUserInfo = (userinfo) => {\n  const userInfo = getUserInfo();\n  localStorage.setItem(__userinfo, JSON.stringify({ ...userInfo, ...userinfo }));\n};\nexport const removeUserInfo = () => localStorage.removeItem(__userinfo);\n\n/** ==================== 保存菜单展开 ==================== */\nexport const getCollapse = () => localStorage.getItem(__collapse) || null;\nexport const setCollapse = (collapse) => {\n  const col = localStorage.setItem(__collapse, collapse);\n  return col;\n};\n\nexport const removeCollapse = () => localStorage.removeItem(__collapse);\n\n/** ==================== 保存点击的文章id ==================== */\nexport const getActiveTitle = () => Number(localStorage.getItem(__activeKey));\nexport const setActiveTitle = (id) => localStorage.setItem(__activeKey, id);\nexport const removeActiveTitle = () => localStorage.removeItem(__activeKey);\n\n/** ==================== 保存浏览位置 ==================== */\nexport const getViewPos = (articleId) => {\n  const posObj = JSON.parse(localStorage.getItem(__view_pos) || \"{}\");\n  const res = articleId ? posObj[articleId] : posObj;\n  return res;\n};\n\nexport const setViewPos = ({ id, pos, name, percent, ...rest }) => {\n  const posObj = getViewPos();\n  let curPercent = posObj.percent || 0;\n  if (percent > curPercent) curPercent = percent;\n\n  const newObj = {\n    ...posObj,\n    [id]: { pos, name, ...rest, percent: curPercent },\n  };\n  localStorage.setItem(__view_pos, JSON.stringify(newObj));\n};\n\nexport const removeViewPos = (id) => {\n  // localStorage.removeItem(__view_pos);\n  const oPosObj = getViewPos();\n  delete oPosObj[id];\n  localStorage.setItem(__view_pos, JSON.stringify(oPosObj));\n};\n\n/** ==================== 存储浏览历史 ==================== */\nexport const getHistory = () => {\n  const oList = JSON.parse(localStorage.getItem(__history) || \"[]\");\n  return oList;\n};\n\nexport const setHistory = (option) => {\n  const oList = getHistory();\n  const idx = oList.findIndex((item) => item.id === option.id);\n  if (idx > -1) {\n    oList.splice(idx, 1);\n  }\n  const list = [option, ...oList];\n  localStorage.setItem(__history, JSON.stringify(list));\n};\n\nexport const removeHistory = (id) => {\n  const oList = getHistory();\n  const newList = oList.filter((item) => item.id !== id);\n  localStorage.setItem(__history, JSON.stringify(newList));\n  return newList;\n};\nexport const clearHistory = () => localStorage.removeItem(__history);\n","/**\n * 工具方法\n */\n/** 判断是否PC端 */\nexport const isPc = () => {\n  const reg =\n    /phone|pad|pod|iPhone|iPod|ios|iPad|Anddroid|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone/;\n  if (navigator.userAgent.match(reg)) {\n    return \"Mobile\";\n  } else {\n    return \"PC\";\n  }\n};\n/** 获取地址栏参数 */\nexport const getURLParameters = (url) => {\n  const params = url.match(/([^?=&]+)(=([^&]*))/g) || [];\n  const res = params.reduce((a, v) => {\n    const val = decodeURIComponent(v.slice(v.indexOf(\"=\") + 1));\n    a[v.slice(0, v.indexOf(\"=\"))] = val;\n    return a;\n  }, {});\n  return res;\n};\n\n/** 函数节流 */\nexport const throttle = (func, delay = 120) => {\n  let prev = Date.now();\n  return (...args) => {\n    const now = Date.now();\n    if (now - prev >= delay) {\n      func.call(null, ...args);\n      prev = Date.now();\n    }\n  };\n};\n\n/** 函数防抖 */\nexport const debounce = (func, wait = 120) => {\n  let timer = null;\n  return (...args) => {\n    if (timer !== null) clearTimeout(timer);\n    timer = setTimeout(func.bind(null, ...args), wait);\n  };\n};\n\n/** 范围随机 */\nexport const rangeRandom = (start, end) => {\n  return parseInt(Math.random() * (start - end + 1) + end);\n};\n\nexport const formatDate = (d, format) => {\n  const date = new Date(d);\n  var paddNum = function (num) {\n    num += \"\";\n    return num.replace(/^(\\d)$/, \"0$1\");\n  };\n  // 指定格式字符\n  var cfg = {\n    yyyy: date.getFullYear(), // 年 : 4位\n    yy: date.getFullYear().toString().substring(2), // 年 : 2位\n    M: paddNum(date.getMonth() + 1), // 月 : 如果1位的时候不补0\n    MM: paddNum(date.getMonth() + 1), // 月 : 如果1位的时候补0\n    d: paddNum(date.getDate()), // 日 : 如果1位的时候不补0\n    dd: paddNum(date.getDate()), // 日 : 如果1位的时候补0\n    hh: paddNum(date.getHours()), // 时\n    mm: paddNum(date.getMinutes()), // 分\n    ss: paddNum(date.getSeconds()), // 秒\n  };\n  format || (format = \"yyyy-MM-dd hh:mm:ss\");\n  return format.replace(/([a-z])(\\1)*/gi, function (m) {\n    return cfg[m];\n  });\n};\n","import { getUserInfo, setUserInfo } from \"../utils/storage\";\n\nimport { Dialog } from \"antd-mobile\";\nimport React from \"react\";\nimport { isPc } from \"../utils\";\nimport { useHistory } from \"react-router\";\n\nexport const useAuth = () => {\n  const history = useHistory();\n  React.useEffect(() => {\n    setUserInfo({ device: isPc() });\n    const userInfo = getUserInfo();\n    if (!userInfo.username || !userInfo.password) {\n      Dialog.alert({ content: \"请先登录!\" }).then(() => {\n        history.replace(\"/login\");\n      });\n    }\n  }, [history]);\n  return [];\n};\n","import { MenuRouter } from \"../../router\";\nimport React from \"react\";\nimport { useAuth } from \"../../router/useAuth\";\n\nexport default () => {\n  useAuth();\n  return <MenuRouter />;\n};\n"],"sourceRoot":""}