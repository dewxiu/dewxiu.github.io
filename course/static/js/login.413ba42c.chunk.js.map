{"version":3,"sources":["utils/storage.js","utils/reg.js","views/login/index.js"],"names":["getUserInfo","JSON","parse","localStorage","getItem","setUserInfo","userinfo","userInfo","setItem","stringify","removeUserInfo","removeItem","getViewPos","articleId","posObj","setViewPos","id","pos","name","percent","rest","curPercent","newObj","removeViewPos","oPosObj","getHistory","removeHistory","newList","filter","item","clearHistory","zhCN","noZhCn","en","enNumber","enNumberCode","enNumberCode1","Mobile","Number","userAuth","authCode","password","numberDecimal","currency","qqNumber","props","history","useHistory","Form","useForm","form","layout","mode","onFinish","values","value","getFieldsValue","regAuth","test","username","replace","Dialog","alert","content","initialValues","Header","Item","label","rules","required","message","placeholder","type","block","color","size","style","marginTop"],"mappings":"s/BAAA,IAOaA,EAAc,kBAAMC,KAAKC,MAAMC,aAAaC,QAPtC,iBAO6D,OACnEC,EAAc,SAACC,GAC1B,IAAMC,EAAWP,IACjBG,aAAaK,QAVI,eAUgBP,KAAKQ,UAAL,KAAoBF,EAApB,GAAiCD,MAEvDI,EAAiB,kBAAMP,aAAaQ,WAZ9B,iBA6BNC,EAAa,SAACC,GACzB,IAAMC,EAASb,KAAKC,MAAMC,aAAaC,QA3BtB,iBA2B6C,MAE9D,OADYS,EAAYC,EAAOD,GAAaC,GAIjCC,EAAa,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,GAAIC,EAAkC,EAAlCA,IAAKC,EAA6B,EAA7BA,KAAMC,EAAuB,EAAvBA,QAAYC,EAAW,6CAC3DN,EAASF,IACXS,EAAaP,EAAOK,SAAW,EAC/BA,EAAUE,IAAYA,EAAaF,GAEvC,IAAMG,EAAM,KACPR,EADO,eAETE,EAFS,GAEFC,MAAKC,QAASE,EAFZ,CAEkBD,QAASE,MAEvClB,aAAaK,QAzCI,eAyCgBP,KAAKQ,UAAUa,KAGrCC,EAAgB,SAACP,GAE5B,IAAMQ,EAAUZ,WACTY,EAAQR,GACfb,aAAaK,QAhDI,eAgDgBP,KAAKQ,UAAUe,KAIrCC,EAAa,WAExB,OADcxB,KAAKC,MAAMC,aAAaC,QApDtB,gBAoD4C,OAcjDsB,EAAgB,SAACV,GAC5B,IACMW,EADQF,IACQG,QAAO,SAACC,GAAD,OAAUA,EAAKb,KAAOA,KAEnD,OADAb,aAAaK,QArEG,cAqEgBP,KAAKQ,UAAUkB,IACxCA,GAEIG,EAAe,kBAAM3B,aAAaQ,WAxE7B,iB,2ECHH,GAEboB,KAAM,0BACNC,OAAQ,4BACRC,GAAI,mBAEJC,SAAU,oBAEVC,aAAc,mBACdC,cAAe,wBACfC,OAAQ,iCAERC,OAAQ,wBAERC,SAAU,uBAEVC,SAAU,oBAEVC,SAAU,uBAEVC,cAAe,yBAEfC,SAAU,sBAEVC,SAAU,sB,iBClBG,mBAACC,GACd,IAAMC,EAAUC,cADQ,EAETC,IAAKC,UAAbC,EAFiB,oBAkBxB,OACE,6BACE,kBAAC,IAAD,CAAMA,KAAMA,EAAMC,OAAO,aAAaC,KAAK,OAAOC,SAhBrC,SAACC,GAChB,IAAMC,EAAQL,EAAKM,iBACdC,EAAQlB,SAASmB,KAAKH,EAAMI,UAI5BF,EAAQhB,SAASiB,KAAKH,EAAMd,WAKjCpC,YAAYkD,GACZT,EAAQc,QAAQ,MALdC,IAAOC,MAAM,CAAEC,QAAS,wFAJxBF,IAAOC,MAAM,CAAEC,QAAS,+FAa8CC,cAAe,CAAEL,SAAU,QAASlB,SAAU,WAClH,kBAAC,IAAKwB,OAAN,iCACA,kBAAC,IAAKC,KAAN,CAAWC,MAAM,qBAAMjD,KAAK,WAAWkD,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,2CACxE,kBAAC,IAAD,CAAOC,YAAY,0CAErB,kBAAC,IAAKL,KAAN,CAAWC,MAAM,eAAKjD,KAAK,WAAWkD,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,2CACvE,kBAAC,IAAD,CAAOE,KAAK,WAAWD,YAAY,oCAErC,kBAAC,IAAD,CAAQE,OAAK,EAACC,MAAM,UAAUF,KAAK,SAASG,KAAK,QAAQC,MAAO,CAAEC,UAAW,KAA7E","file":"static/js/login.413ba42c.chunk.js","sourcesContent":["const __userinfo = \"__userinfo__\";\nconst __collapse = \"__collapse__\";\nconst __activeKey = \"__activeKey__\";\nconst __view_pos = \"__view_pos__\";\nconst __history = \"__history__\";\n\n/** ==================== 保存用户名和密码 ==================== */\nexport const getUserInfo = () => JSON.parse(localStorage.getItem(__userinfo) || \"{}\");\nexport const setUserInfo = (userinfo) => {\n  const userInfo = getUserInfo();\n  localStorage.setItem(__userinfo, JSON.stringify({ ...userInfo, ...userinfo }));\n};\nexport const removeUserInfo = () => localStorage.removeItem(__userinfo);\n\n/** ==================== 保存菜单展开 ==================== */\nexport const getCollapse = () => localStorage.getItem(__collapse) || null;\nexport const setCollapse = (collapse) => {\n  const col = localStorage.setItem(__collapse, collapse);\n  return col;\n};\n\nexport const removeCollapse = () => localStorage.removeItem(__collapse);\n\n/** ==================== 保存点击的文章id ==================== */\nexport const getActiveTitle = () => Number(localStorage.getItem(__activeKey));\nexport const setActiveTitle = (id) => localStorage.setItem(__activeKey, id);\nexport const removeActiveTitle = () => localStorage.removeItem(__activeKey);\n\n/** ==================== 保存浏览位置 ==================== */\nexport const getViewPos = (articleId) => {\n  const posObj = JSON.parse(localStorage.getItem(__view_pos) || \"{}\");\n  const res = articleId ? posObj[articleId] : posObj;\n  return res;\n};\n\nexport const setViewPos = ({ id, pos, name, percent, ...rest }) => {\n  const posObj = getViewPos();\n  let curPercent = posObj.percent || 0;\n  if (percent > curPercent) curPercent = percent;\n\n  const newObj = {\n    ...posObj,\n    [id]: { pos, name, ...rest, percent: curPercent },\n  };\n  localStorage.setItem(__view_pos, JSON.stringify(newObj));\n};\n\nexport const removeViewPos = (id) => {\n  // localStorage.removeItem(__view_pos);\n  const oPosObj = getViewPos();\n  delete oPosObj[id];\n  localStorage.setItem(__view_pos, JSON.stringify(oPosObj));\n};\n\n/** ==================== 存储浏览历史 ==================== */\nexport const getHistory = () => {\n  const oList = JSON.parse(localStorage.getItem(__history) || \"[]\");\n  return oList;\n};\n\nexport const setHistory = (option) => {\n  const oList = getHistory();\n  const idx = oList.findIndex((item) => item.id === option.id);\n  if (idx > -1) {\n    oList.splice(idx, 1);\n  }\n  const list = [option, ...oList];\n  localStorage.setItem(__history, JSON.stringify(list));\n};\n\nexport const removeHistory = (id) => {\n  const oList = getHistory();\n  const newList = oList.filter((item) => item.id !== id);\n  localStorage.setItem(__history, JSON.stringify(newList));\n  return newList;\n};\nexport const clearHistory = () => localStorage.removeItem(__history);\n","// 正则表达式\r\nexport default {\r\n  // 中文 2位数以上\r\n  zhCN: /^[\\u4e00-\\u9fa5]{1,24}$/,\r\n  noZhCn: /^[^\\u4e00-\\u9fa5]{1,200}$/,\r\n  en: /^[a-zA-Z]{3,24}$/,\r\n  // 英文加数字 3位数以上\r\n  enNumber: /^[a-zA-Z0-9]{3,}$/,\r\n  // 字母数字下划线\r\n  enNumberCode: /^[a-zA-Z0-9_-]+$/,\r\n  enNumberCode1: /^[a-zA-Z0-9_-]{1,50}$/,\r\n  Mobile: /^0?1[3|4|5|6|7|8|9][0-9]\\d{8}$/,\r\n  // 整数\r\n  Number: /^(0|[1-9][0-9]*){1,}$/,\r\n  // 用户名\r\n  userAuth: /^[a-zA-Z0-9_]{5,12}$/,\r\n  // 4-6位数组或字母\r\n  authCode: /^[a-zA-Z_-\\d]{4}$/,\r\n  // 密码\r\n  password: /^[a-zA-Z0-9_]{6,12}$/,\r\n  // 数字与小数\r\n  numberDecimal: /^[0-9]+(.[0-9]{1,4})?$/,\r\n  // 字母数字下划线短划线\r\n  currency: /^[0-9a-zA-Z_-]{1,}$/,\r\n  // QQ号码\r\n  qqNumber: /^[1-9][0-9]{4,10}$/,\r\n};\r\n","import { Button, Dialog, Form, Input } from \"antd-mobile\";\n\nimport React from \"react\";\nimport regAuth from \"../../utils/reg\";\nimport { setUserInfo } from \"../../utils/storage\";\nimport { useHistory } from \"react-router\";\n\nexport default (props) => {\n  const history = useHistory();\n  const [form] = Form.useForm();\n\n  const onFinish = (values) => {\n    const value = form.getFieldsValue();\n    if (!regAuth.userAuth.test(value.username)) {\n      Dialog.alert({ content: \"用户名为5-12位字母、数字、下划线!\" });\n      return;\n    }\n    if (!regAuth.password.test(value.password)) {\n      Dialog.alert({ content: \"密码为6-12位数字、字母、下划线!\" });\n      return;\n    }\n\n    setUserInfo(value);\n    history.replace(\"/\");\n  };\n  return (\n    <div>\n      <Form form={form} layout=\"horizontal\" mode=\"card\" onFinish={onFinish} initialValues={{ username: \"admin\", password: \"123456\" }}>\n        <Form.Header>用户登录</Form.Header>\n        <Form.Item label=\"用户名\" name=\"username\" rules={[{ required: true, message: \"请输入用户名!\" }]}>\n          <Input placeholder=\"请输入用户名\" />\n        </Form.Item>\n        <Form.Item label=\"密码\" name=\"password\" rules={[{ required: true, message: \"密码不能为空!\" }]}>\n          <Input type=\"password\" placeholder=\"请输入密码\" />\n        </Form.Item>\n        <Button block color=\"primary\" type=\"submit\" size=\"large\" style={{ marginTop: 20 }}>\n          提交\n        </Button>\n      </Form>\n    </div>\n  );\n};\n"],"sourceRoot":""}