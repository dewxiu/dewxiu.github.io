{"version":3,"sources":["utils/index.js","router/useAuth.js","views/home/course/AnswerQuestion.js","views/home/course/ChoiceQuestion.js","../node_modules/antd-mobile-icons/es/AppstoreOutline.js","layout/NavBack/index.js","views/home/course/subject.js"],"names":["isPc","navigator","userAgent","match","getURLParameters","url","reduce","a","v","val","decodeURIComponent","slice","indexOf","throttle","func","delay","prev","Date","now","args","call","rangeRandom","start","end","parseInt","Math","random","formatDate","d","format","date","paddNum","num","replace","cfg","yyyy","getFullYear","yy","toString","substring","M","getMonth","MM","getDate","dd","hh","getHours","mm","getMinutes","ss","getSeconds","m","useAuth","history","useHistory","React","useEffect","setUserInfo","device","userInfo","getUserInfo","username","password","Dialog","alert","content","then","Wrap","props","questions","formatExplanation","str","header","className","map","item","Item","key","id","style","background","color","number","fontSize","fontWeight","title","dangerouslySetInnerHTML","__html","Array","isArray","answer","explanation","Maks","Group","value","direction","options","c","text","Object","assign","width","height","viewBox","xmlns","xmlnsXlink","verticalAlign","filter","Boolean","join","stroke","strokeWidth","fill","fillRule","opacity","x","y","NavBack","query","right","onClick","position","top","left","zIndex","back","backArrow","onBack","goBack","trigger","placement","name","children","descList","classCate","marx","marxObj","historyObj","society","societyObj","posRef","useRef","parmas","useParams","location","useLocation","search","resultObj","course","hacCate","contentRef","randerResult","chioce","ChoiceQuestion","AnswerQuestion","res","getViewPos","current","scrollTop","pos","Toast","show","duration","bh","offsetHeight","setViewPos","percent","onScroll","e","target","scrollHeight","scrollPos","s","floor","marginTop","overflowY","onLoad","ref","margin","cate","status","description","length","borderColor","borderStyle"],"mappings":"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","file":"static/js/marx.08a584f9.chunk.js","sourcesContent":["/**\n * 工具方法\n */\n/** 判断是否PC端 */\nexport const isPc = () => {\n  const reg =\n    /phone|pad|pod|iPhone|iPod|ios|iPad|Anddroid|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone/;\n  if (navigator.userAgent.match(reg)) {\n    return \"Mobile\";\n  } else {\n    return \"PC\";\n  }\n};\n/** 获取地址栏参数 */\nexport const getURLParameters = (url) => {\n  const params = url.match(/([^?=&]+)(=([^&]*))/g) || [];\n  const res = params.reduce((a, v) => {\n    const val = decodeURIComponent(v.slice(v.indexOf(\"=\") + 1));\n    a[v.slice(0, v.indexOf(\"=\"))] = val;\n    return a;\n  }, {});\n  return res;\n};\n\n/** 函数节流 */\nexport const throttle = (func, delay = 120) => {\n  let prev = Date.now();\n  return (...args) => {\n    const now = Date.now();\n    if (now - prev >= delay) {\n      func.call(null, ...args);\n      prev = Date.now();\n    }\n  };\n};\n\n/** 函数防抖 */\nexport const debounce = (func, wait = 120) => {\n  let timer = null;\n  return (...args) => {\n    if (timer !== null) clearTimeout(timer);\n    timer = setTimeout(func.bind(null, ...args), wait);\n  };\n};\n\n/** 范围随机 */\nexport const rangeRandom = (start, end) => {\n  return parseInt(Math.random() * (start - end + 1) + end);\n};\n\nexport const formatDate = (d, format) => {\n  const date = new Date(d);\n  var paddNum = function (num) {\n    num += \"\";\n    return num.replace(/^(\\d)$/, \"0$1\");\n  };\n  // 指定格式字符\n  var cfg = {\n    yyyy: date.getFullYear(), // 年 : 4位\n    yy: date.getFullYear().toString().substring(2), // 年 : 2位\n    M: paddNum(date.getMonth() + 1), // 月 : 如果1位的时候不补0\n    MM: paddNum(date.getMonth() + 1), // 月 : 如果1位的时候补0\n    d: paddNum(date.getDate()), // 日 : 如果1位的时候不补0\n    dd: paddNum(date.getDate()), // 日 : 如果1位的时候补0\n    hh: paddNum(date.getHours()), // 时\n    mm: paddNum(date.getMinutes()), // 分\n    ss: paddNum(date.getSeconds()), // 秒\n  };\n  format || (format = \"yyyy-MM-dd hh:mm:ss\");\n  return format.replace(/([a-z])(\\1)*/gi, function (m) {\n    return cfg[m];\n  });\n};\n","import { getUserInfo, setUserInfo } from \"../utils/storage\";\n\nimport { Dialog } from \"antd-mobile\";\nimport React from \"react\";\nimport { isPc } from \"../utils\";\nimport { useHistory } from \"react-router\";\n\nexport const useAuth = () => {\n  const history = useHistory();\n  React.useEffect(() => {\n    setUserInfo({ device: isPc() });\n    const userInfo = getUserInfo();\n    if (!userInfo.username || !userInfo.password) {\n      Dialog.alert({ content: \"请先登录!\" }).then(() => {\n        history.replace(\"/login\");\n      });\n    }\n  }, [history]);\n  return [];\n};\n","import { List } from \"antd-mobile\";\nimport React from \"react\";\n\nconst Wrap = (props) => {\n  const { questions } = props;\n  const formatExplanation = (str) => {\n    const res = str.replace(/：/g, \"：<br />\").replace(/。/gi, \"。<br />\");\n    return res;\n  };\n  return (\n    <List header={<h3 className=\"ui-ta-c\">简答题</h3>}>\n      {questions.map((item) => {\n        return (\n          <List.Item key={item.id}>\n            <div className=\"flex align-start\">\n              <span style={{ background: \"#ffff00\", color: \"#333\" }}>\n                [{item.number}]\n              </span>\n              <div style={{ fontSize: 14 }}>\n                <div style={{ fontWeight: 700 }}>{item.title}</div>\n                <div className=\"exp_desc\">答案</div>\n                <div\n                  className=\"answer\"\n                  dangerouslySetInnerHTML={{\n                    __html: formatExplanation(\n                      Array.isArray(item.answer) ? item.answer[0] : item.answer\n                    ),\n                  }}\n                ></div>\n                {item.explanation ? (\n                  <>\n                    <div className=\"exp_desc\">题解</div>\n                    <div\n                      className=\"explanation\"\n                      dangerouslySetInnerHTML={{\n                        __html: formatExplanation(item.explanation),\n                      }}\n                    ></div>\n                  </>\n                ) : null}\n              </div>\n            </div>\n          </List.Item>\n        );\n      })}\n    </List>\n  );\n};\n\nexport default Wrap;\n","import { List, Radio, Space } from \"antd-mobile\";\n\nimport React from \"react\";\n\nconst Maks = (props) => {\n  const { questions } = props;\n  const formatExplanation = (str) => {\n    const res = str.replace(/：/g, \"：<br />\").replace(/。/g, \"。<br />\");\n    return res;\n  };\n\n  return (\n    <List header={<h3 className=\"ui-ta-c\">选择题</h3>}>\n      {questions.map((item) => {\n        return (\n          <List.Item key={item.id}>\n            <div className=\"flex align-start\">\n              <span style={{ background: \"#ffff00\", color: \"#333\" }}>\n                [{item.number}]\n              </span>\n              <div style={{ fontSize: 14 }}>\n                <div style={{ fontWeight: 700 }}>\n                  {item.title.replace(\"（\", \"（ \" + item.answer[0])}\n                </div>\n                <div className=\"mt10\">\n                  <Radio.Group value={item.answer[0]}>\n                    <Space direction=\"vertical\">\n                      {item.options.map((c) => (\n                        <Radio\n                          key={c.value}\n                          value={c.value}\n                          style={{\n                            \"--icon-size\": \"18px\",\n                            \"--font-size\": \"14px\",\n                            \"--gap\": \"6px\",\n                            color: c.value === item.answer[0] ? \"#18cf86\" : \"\",\n                          }}\n                        >\n                          {c.value} {c.text}\n                        </Radio>\n                      ))}\n                    </Space>\n                  </Radio.Group>\n                </div>\n                {item.explanation ? (\n                  <>\n                    <div className=\"exp_desc\">题解</div>\n                    <div\n                      className=\"explanation\"\n                      dangerouslySetInnerHTML={{\n                        __html: formatExplanation(item.explanation),\n                      }}\n                    />\n                  </>\n                ) : null}\n              </div>\n            </div>\n          </List.Item>\n        );\n      })}\n    </List>\n  );\n};\n\nexport default Maks;\n","import * as React from \"react\";\n\nfunction AppstoreOutline(props) {\n  return (\n    /*#__PURE__*/\n    React.createElement(\"svg\", Object.assign({\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 48 48\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      xmlnsXlink: \"http://www.w3.org/1999/xlink\"\n    }, props, {\n      style: Object.assign({\n        verticalAlign: '-0.125em'\n      }, props.style),\n      className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')\n    }),\n    /*#__PURE__*/\n    React.createElement(\"title\", null, \"484E1D4F-006D-4D09-AFCB-A984FC8435CF@2x\"),\n    /*#__PURE__*/\n    React.createElement(\"g\", {\n      id: \"AppstoreOutline-AppstoreOutline\",\n      stroke: \"none\",\n      strokeWidth: 1,\n      fill: \"none\",\n      fillRule: \"evenodd\"\n    },\n    /*#__PURE__*/\n    React.createElement(\"g\", {\n      id: \"AppstoreOutline-\\u7F16\\u7EC4\"\n    },\n    /*#__PURE__*/\n    React.createElement(\"rect\", {\n      id: \"AppstoreOutline-\\u77E9\\u5F62\",\n      fill: \"#FFFFFF\",\n      opacity: 0,\n      x: 0,\n      y: 0,\n      width: 48,\n      height: 48\n    }),\n    /*#__PURE__*/\n    React.createElement(\"path\", {\n      d: \"M17,25 C20.3137085,25 23,27.6862915 23,31 L23,38 C23,41.3137085 20.3137085,44 17,44 L10,44 C6.6862915,44 4,41.3137085 4,38 L4,31 C4,27.6862915 6.6862915,25 10,25 L17,25 Z M38,25 C41.3137085,25 44,27.6862915 44,31 L44,38 C44,41.3137085 41.3137085,44 38,44 L31,44 C27.6862915,44 25,41.3137085 25,38 L25,31 C25,27.6862915 27.6862915,25 31,25 L38,25 Z M17,28 L10,28 C8.40231912,28 7.09633912,29.24892 7.00509269,30.8237272 L7,31 L7,38 C7,39.5976809 8.24891996,40.9036609 9.82372721,40.9949073 L10,41 L17,41 C18.5976809,41 19.9036609,39.75108 19.9949073,38.1762728 L20,38 L20,31 C20,29.4023191 18.75108,28.0963391 17.1762728,28.0050927 L17,28 Z M38,28 L31,28 C29.4023191,28 28.0963391,29.24892 28.0050927,30.8237272 L28,31 L28,38 C28,39.5976809 29.24892,40.9036609 30.8237272,40.9949073 L31,41 L38,41 C39.5976809,41 40.9036609,39.75108 40.9949073,38.1762728 L41,38 L41,31 C41,29.4023191 39.75108,28.0963391 38.1762728,28.0050927 L38,28 Z M17,4 C20.3137085,4 23,6.6862915 23,10 L23,17 C23,20.3137085 20.3137085,23 17,23 L10,23 C6.6862915,23 4,20.3137085 4,17 L4,10 C4,6.6862915 6.6862915,4 10,4 L17,4 Z M38,4 C41.3137085,4 44,6.6862915 44,10 L44,17 C44,20.3137085 41.3137085,23 38,23 L31,23 C27.6862915,23 25,20.3137085 25,17 L25,10 C25,6.6862915 27.6862915,4 31,4 L38,4 Z M17,7 L10,7 C8.40231912,7 7.09633912,8.24891996 7.00509269,9.82372721 L7,10 L7,17 C7,18.5976809 8.24891996,19.9036609 9.82372721,19.9949073 L10,20 L17,20 C18.5976809,20 19.9036609,18.75108 19.9949073,17.1762728 L20,17 L20,10 C20,8.40231912 18.75108,7.09633912 17.1762728,7.00509269 L17,7 Z M38,7 L31,7 C29.4023191,7 28.0963391,8.24891996 28.0050927,9.82372721 L28,10 L28,17 C28,18.5976809 29.24892,19.9036609 30.8237272,19.9949073 L31,20 L38,20 C39.5976809,20 40.9036609,18.75108 40.9949073,17.1762728 L41,17 L41,10 C41,8.40231912 39.75108,7.09633912 38.1762728,7.00509269 L38,7 Z\",\n      id: \"AppstoreOutline-\\u5F62\\u72B6\\u7ED3\\u5408\",\n      fill: \"currentColor\",\n      fillRule: \"nonzero\"\n    }))))\n  );\n}\n\nexport default AppstoreOutline;","import { NavBar, NoticeBar, Popover, Space } from \"antd-mobile\";\n\nimport { AppstoreOutline } from \"antd-mobile-icons\";\nimport React from \"react\";\nimport { useAuth } from \"../../router/useAuth\";\nimport { useHistory } from \"react-router\";\n\nconst NavBack = (props) => {\n  const { query } = props;\n  const history = useHistory();\n  useAuth();\n\n  const back = () => history.goBack();\n\n  const right = (\n    <div style={{ fontSize: 24 }}>\n      <Space style={{ \"--gap\": \"16px\" }}>\n        {/* <MoreOutline /> */}\n        <AppstoreOutline onClick={() => history.replace(\"/\")} />\n      </Space>\n    </div>\n  );\n\n  return (\n    <div className=\"flex-col ui-h-100 ui-p-r\">\n      <div\n        className=\"head-nav-bar\"\n        style={{\n          position: \"fixed\",\n          top: 0,\n          left: 0,\n          zIndex: 9999,\n          width: \"100%\",\n          background: \"#fff\",\n        }}\n      >\n        <NavBar back={\"返回\"} backArrow={true} right={right} onBack={back}>\n          <Popover content={query.title} trigger=\"click\" placement=\"bottomLeft\">\n            <span>{query.title}</span>\n          </Popover>\n        </NavBar>\n        <NoticeBar content={query.name} color=\"alert\" />\n      </div>\n      {props.children}\n    </div>\n  );\n};\n\nexport default NavBack;\n","import { Divider, Result, Toast } from \"antd-mobile\";\nimport React, { useEffect, useRef } from \"react\";\nimport { getURLParameters, rangeRandom } from \"../../../utils\";\nimport { getViewPos, setViewPos } from \"../../../utils/storage\";\nimport { useLocation, useParams } from \"react-router\";\n\nimport AnswerQuestion from \"./AnswerQuestion\";\nimport ChoiceQuestion from \"./ChoiceQuestion\";\nimport NavBack from \"../../../layout/NavBack\";\n// 近代史\nimport { historyObj } from \"../../../data/history\";\n// 马克思\nimport { marxObj } from \"../../../data/marx\";\n// 毛概\nimport { societyObj } from \"../../../data/society\";\nimport { throttle } from \"../../../utils\";\n\nconst descList = [\n  \"书到用时方恨少, 学到天明不是梦\",\n  \"喧嚣繁华惑心志, 能甘寂寞是英雄\",\n  \"囊萤映雪锥刺骨, 犹似教鞭催奋读\",\n  \"春风吹战鼓擂, 今年高考谁怕谁\",\n  \"十年磨剑三日锋, 数载人生在其中\",\n  \"书山有路勤为径, 学海无涯苦作舟\",\n  \"玉不琢不成器, 人不学不知道\",\n  \"与其临渊羡鱼, 不如退而结网\",\n];\n\nconst classCate = { marx: marxObj, history: historyObj, society: societyObj };\n\nconst Maks = () => {\n  const posRef = useRef(null);\n  const parmas = useParams();\n  const location = useLocation();\n  const query = getURLParameters(decodeURIComponent(location.search));\n  const resultObj = classCate[query.course];\n  const hacCate = resultObj[parmas.id]; // 是否存在分类题库\n  const contentRef = useRef(null);\n\n  const randerResult = hacCate && {\n    chioce: <ChoiceQuestion title={resultObj[parmas.id].title} questions={resultObj[parmas.id].questions} />,\n    answer: <AnswerQuestion title={resultObj[parmas.id].title} questions={resultObj[parmas.id].questions} />,\n  };\n\n  useEffect(() => {\n    const res = getViewPos(parmas.id);\n    if (!posRef.current || !res) return;\n    posRef.current.scrollTop = res.pos;\n    Toast.show({\n      duration: 2000,\n      position: \"top\",\n      content: \"已回到上次浏览位置\",\n    });\n\n    // 内容不够时候直接设置100%\n    if (posRef.current && contentRef.current) {\n      const bh = posRef.current.offsetHeight;\n      const ch = contentRef.current.offsetHeight;\n      if (ch < bh) {\n        setViewPos({ id: parmas.id, pos: bh, name: query.name, percent: 100 });\n      }\n    }\n  }, [posRef, parmas, query]);\n\n  const onScroll = throttle((e) => {\n    const { scrollTop, offsetHeight, scrollHeight } = e.target;\n    const scrollPos = scrollTop + offsetHeight;\n    let s = 0;\n    if (scrollTop < offsetHeight) s = offsetHeight;\n    if (scrollPos >= 100) s = scrollPos;\n    let percent = Math.floor((s / scrollHeight) * 100);\n    setViewPos({ id: parmas.id, pos: scrollTop, name: query.name, percent });\n  }, 0);\n\n  // NavBack高度83px\n  return (\n    <NavBack query={query}>\n      <div className=\"flex-col ui-h-100\" style={{ marginTop: 83, overflowY: \"auto\" }} onScroll={onScroll} onLoad={onScroll} ref={posRef}>\n        <div style={{ margin: \"0 10px\" }} ref={contentRef}>\n          {hacCate ? (\n            randerResult[resultObj[parmas.id].cate]\n          ) : (\n            <Result status=\"info\" title=\"暂无数据\" description={descList[rangeRandom(0, descList.length - 1)]} />\n          )}\n          <Divider\n            style={{\n              color: \"#1677ff\",\n              borderColor: \"#1677ff\",\n              borderStyle: \"dashed\",\n            }}\n          >\n            没有更多了\n          </Divider>\n        </div>\n      </div>\n    </NavBack>\n  );\n};\n\nexport default Maks;\n"],"sourceRoot":""}