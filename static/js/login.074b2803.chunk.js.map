{"version":3,"sources":["views/login/index.js","utils/storage.js"],"names":["props","console","log","history","useHistory","Form","useForm","form","layout","mode","onFinish","values","value","getFieldsValue","password","setUserInfo","replace","Dialog","alert","content","initialValues","username","Header","Item","label","name","rules","required","message","placeholder","type","block","color","size","style","marginTop","getUserInfo","JSON","parse","localStorage","getItem","userinfo","setItem","stringify","removeUserInfo","removeItem","getCollapse","setCollapse","collapse","getActiveTitle","Number","setActiveTitle","id"],"mappings":"4KAMe,mBAACA,GACZC,QAAQC,IAAI,QAASF,GACrB,IAAMG,EAAUC,cAFM,EAIPC,IAAKC,UAAbC,EAJe,oBAiBtB,OACI,6BACI,kBAAC,IAAD,CACIA,KAAMA,EACNC,OAAO,aACPC,KAAK,OACLC,SAjBK,SAACC,GACdV,QAAQC,IAAI,WAAYS,GACxB,IAAMC,EAAQL,EAAKM,iBACI,WAAnBD,EAAME,UAIVb,QAAQC,IAAI,QAASU,GACrBG,YAAYH,GACZT,EAAQa,QAAQ,MALZC,IAAOC,MAAM,CAAEC,QAAS,+BAcpBC,cAAe,CAAEC,SAAU,QAASP,SAAU,WAE9C,kBAAC,IAAKQ,OAAN,iCACA,kBAAC,IAAKC,KAAN,CACIC,MAAM,qBACNC,KAAK,WACLC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,2CAEnC,kBAAC,IAAD,CAAOC,YAAY,WAEvB,kBAAC,IAAKN,KAAN,CACIC,MAAM,eACNC,KAAK,WACLC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,2CAEnC,kBAAC,IAAD,CAAOE,KAAK,WAAWD,YAAY,YAEvC,kBAAC,IAAD,CACIE,OAAK,EACLC,MAAM,UACNF,KAAK,SACLG,KAAK,QACLC,MAAO,CAAEC,UAAW,KALxB,oB,iCC/ChB,kPAKaC,EAAc,kBACzBC,KAAKC,MAAMC,aAAaC,QANP,iBAM8B,OACpCzB,EAAc,SAAC0B,GAAD,OACzBF,aAAaG,QARI,eAQgBL,KAAKM,UAAUF,KACrCG,EAAiB,kBAAML,aAAaM,WAT9B,iBAYNC,EAAc,kBAAMP,aAAaC,QAX3B,iBAWkD,MACxDO,EAAc,SAACC,GAAD,OACzBT,aAAaG,QAbI,eAagBM,IAItBC,EAAiB,kBAAMC,OAAOX,aAAaC,QAhBpC,mBAiBPW,EAAiB,SAACC,GAAD,OAAQb,aAAaG,QAjB/B,gBAiBoDU","file":"static/js/login.074b2803.chunk.js","sourcesContent":["import { Button, Dialog, Form, Input } from \"antd-mobile\";\n\nimport React from \"react\";\nimport { setUserInfo } from \"../../utils/storage\";\nimport { useHistory } from \"react-router\";\n\nexport default (props) => {\n    console.log(\"props\", props);\n    const history = useHistory();\n\n    const [form] = Form.useForm();\n\n    const onFinish = (values) => {\n        console.log(\"onFinish\", values);\n        const value = form.getFieldsValue();\n        if (value.password !== '123456') {\n            Dialog.alert({ content: \"密码错误!\" });\n            return;\n        }\n        console.log(\"value\", value);\n        setUserInfo(value);\n        history.replace(\"/\");\n    };\n    return (\n        <div>\n            <Form\n                form={form}\n                layout=\"horizontal\"\n                mode=\"card\"\n                onFinish={onFinish}\n                initialValues={{ username: \"admin\", password: '123456' }}\n            >\n                <Form.Header>用户登录</Form.Header>\n                <Form.Item\n                    label=\"用户名\"\n                    name=\"username\"\n                    rules={[{ required: true, message: \"请输入用户名!\" }]}\n                >\n                    <Input placeholder=\"admin\" />\n                </Form.Item>\n                <Form.Item\n                    label=\"密码\"\n                    name=\"password\"\n                    rules={[{ required: true, message: \"密码不能为空!\" }]}\n                >\n                    <Input type=\"password\" placeholder=\"123456\" />\n                </Form.Item>\n                <Button\n                    block\n                    color=\"primary\"\n                    type=\"submit\"\n                    size=\"large\"\n                    style={{ marginTop: 20 }}\n                >\n                    提交\n                </Button>\n            </Form>\n        </div>\n    );\n};\n","const __userinfo = \"__userinfo__\";\nconst __collapse = \"__collapse__\";\nconst __activeKey = \"__activeKey__\";\n\n/** 保存用户名和密码 */\nexport const getUserInfo = () =>\n  JSON.parse(localStorage.getItem(__userinfo) || \"{}\");\nexport const setUserInfo = (userinfo) =>\n  localStorage.setItem(__userinfo, JSON.stringify(userinfo));\nexport const removeUserInfo = () => localStorage.removeItem(__userinfo);\n\n/** 保存菜单展开 */\nexport const getCollapse = () => localStorage.getItem(__collapse) || null;\nexport const setCollapse = (collapse) =>\n  localStorage.setItem(__collapse, collapse);\nexport const removeCollapse = () => localStorage.removeItem(__collapse);\n\n/** 保存点击的文章id */\nexport const getActiveTitle = () => Number(localStorage.getItem(__activeKey));\nexport const setActiveTitle = (id) => localStorage.setItem(__activeKey, id);\nexport const removeActiveTitle = () => localStorage.removeItem(__activeKey);\n"],"sourceRoot":""}