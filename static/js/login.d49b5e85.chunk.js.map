{"version":3,"sources":["utils/storage.js","views/login/index.js"],"names":["getUserInfo","JSON","parse","localStorage","getItem","setUserInfo","userinfo","userInfo","setItem","stringify","removeUserInfo","removeItem","getCollapse","setCollapse","collapse","getActiveTitle","Number","setActiveTitle","id","getViewPos","articleId","posObj","setViewPos","pos","name","percent","rest","curPercent","newObj","removeViewPos","oPosObj","getHistory","setHistory","option","oList","idx","findIndex","item","splice","list","removeHistory","newList","filter","clearHistory","props","history","useHistory","Form","useForm","form","layout","mode","onFinish","values","value","getFieldsValue","username","password","replace","Dialog","alert","content","initialValues","Header","Item","label","rules","required","message","placeholder","type","block","color","size","style","marginTop"],"mappings":"iqCAAA,IAOaA,EAAc,kBAAMC,KAAKC,MAAMC,aAAaC,QAPtC,iBAO6D,OACnEC,EAAc,SAACC,GAC1B,IAAMC,EAAWP,IACjBG,aAAaK,QAVI,eAUgBP,KAAKQ,UAAL,KAAoBF,EAApB,GAAiCD,MAEvDI,EAAiB,kBAAMP,aAAaQ,WAZ9B,iBAeNC,EAAc,kBAAMT,aAAaC,QAd3B,iBAckD,MACxDS,EAAc,SAACC,GAE1B,OADYX,aAAaK,QAhBR,eAgB4BM,IAOlCC,EAAiB,kBAAMC,OAAOb,aAAaC,QAtBpC,mBAuBPa,EAAiB,SAACC,GAAD,OAAQf,aAAaK,QAvB/B,gBAuBoDU,IAI3DC,EAAa,SAACC,GACzB,IAAMC,EAASpB,KAAKC,MAAMC,aAAaC,QA3BtB,iBA2B6C,MAE9D,OADYgB,EAAYC,EAAOD,GAAaC,GAIjCC,EAAa,SAAC,GAAyC,IAAvCJ,EAAsC,EAAtCA,GAAIK,EAAkC,EAAlCA,IAAKC,EAA6B,EAA7BA,KAAMC,EAAuB,EAAvBA,QAAYC,EAAW,6CAC3DL,EAASF,IACXQ,EAAaN,EAAOI,SAAW,EAC/BA,EAAUE,IAAYA,EAAaF,GAEvC,IAAMG,EAAM,KACPP,EADO,eAETH,EAFS,GAEFK,MAAKC,QAASE,EAFZ,CAEkBD,QAASE,MAEvCxB,aAAaK,QAzCI,eAyCgBP,KAAKQ,UAAUmB,KAGrCC,EAAgB,SAACX,GAE5B,IAAMY,EAAUX,WACTW,EAAQZ,GACff,aAAaK,QAhDI,eAgDgBP,KAAKQ,UAAUqB,KAIrCC,EAAa,WAExB,OADc9B,KAAKC,MAAMC,aAAaC,QApDtB,gBAoD4C,OAIjD4B,EAAa,SAACC,GACzB,IAAMC,EAAQH,IACRI,EAAMD,EAAME,WAAU,SAACC,GAAD,OAAUA,EAAKnB,KAAOe,EAAOf,MACrDiB,GAAO,GACTD,EAAMI,OAAOH,EAAK,GAEpB,IAAMI,EAAI,CAAIN,GAAJ,mBAAeC,IACzB/B,aAAaK,QA/DG,cA+DgBP,KAAKQ,UAAU8B,KAGpCC,EAAgB,SAACtB,GAC5B,IACMuB,EADQV,IACQW,QAAO,SAACL,GAAD,OAAUA,EAAKnB,KAAOA,KAEnD,OADAf,aAAaK,QArEG,cAqEgBP,KAAKQ,UAAUgC,IACxCA,GAEIE,EAAe,kBAAMxC,aAAaQ,WAxE7B,iB,4FCEH,mBAACiC,GACd,IAAMC,EAAUC,cADQ,EAETC,IAAKC,UAAbC,EAFiB,oBAiBxB,OACE,6BACE,kBAAC,IAAD,CACEA,KAAMA,EACNC,OAAO,aACPC,KAAK,OACLC,SAnBW,SAACC,GAChB,IAAMC,EAAQL,EAAKM,iBACI,UAAnBD,EAAME,SAIa,WAAnBF,EAAMG,UAIVpD,YAAYiD,GACZT,EAAQa,QAAQ,MAJdC,IAAOC,MAAM,CAAEC,QAAS,8BAJxBF,IAAOC,MAAM,CAAEC,QAAS,qCAiBtBC,cAAe,CAAEN,SAAU,QAASC,SAAU,WAE9C,kBAAC,IAAKM,OAAN,iCACA,kBAAC,IAAKC,KAAN,CACEC,MAAM,qBACNzC,KAAK,WACL0C,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,2CAEnC,kBAAC,IAAD,CAAOC,YAAY,WAErB,kBAAC,IAAKL,KAAN,CACEC,MAAM,eACNzC,KAAK,WACL0C,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,2CAEnC,kBAAC,IAAD,CAAOE,KAAK,WAAWD,YAAY,YAErC,kBAAC,IAAD,CACEE,OAAK,EACLC,MAAM,UACNF,KAAK,SACLG,KAAK,QACLC,MAAO,CAAEC,UAAW,KALtB","file":"static/js/login.d49b5e85.chunk.js","sourcesContent":["const __userinfo = \"__userinfo__\";\nconst __collapse = \"__collapse__\";\nconst __activeKey = \"__activeKey__\";\nconst __view_pos = \"__view_pos__\";\nconst __history = \"__history__\";\n\n/** ==================== 保存用户名和密码 ==================== */\nexport const getUserInfo = () => JSON.parse(localStorage.getItem(__userinfo) || \"{}\");\nexport const setUserInfo = (userinfo) => {\n  const userInfo = getUserInfo();\n  localStorage.setItem(__userinfo, JSON.stringify({ ...userInfo, ...userinfo }));\n};\nexport const removeUserInfo = () => localStorage.removeItem(__userinfo);\n\n/** ==================== 保存菜单展开 ==================== */\nexport const getCollapse = () => localStorage.getItem(__collapse) || null;\nexport const setCollapse = (collapse) => {\n  const col = localStorage.setItem(__collapse, collapse);\n  return col;\n};\n\nexport const removeCollapse = () => localStorage.removeItem(__collapse);\n\n/** ==================== 保存点击的文章id ==================== */\nexport const getActiveTitle = () => Number(localStorage.getItem(__activeKey));\nexport const setActiveTitle = (id) => localStorage.setItem(__activeKey, id);\nexport const removeActiveTitle = () => localStorage.removeItem(__activeKey);\n\n/** ==================== 保存浏览位置 ==================== */\nexport const getViewPos = (articleId) => {\n  const posObj = JSON.parse(localStorage.getItem(__view_pos) || \"{}\");\n  const res = articleId ? posObj[articleId] : posObj;\n  return res;\n};\n\nexport const setViewPos = ({ id, pos, name, percent, ...rest }) => {\n  const posObj = getViewPos();\n  let curPercent = posObj.percent || 0;\n  if (percent > curPercent) curPercent = percent;\n\n  const newObj = {\n    ...posObj,\n    [id]: { pos, name, ...rest, percent: curPercent },\n  };\n  localStorage.setItem(__view_pos, JSON.stringify(newObj));\n};\n\nexport const removeViewPos = (id) => {\n  // localStorage.removeItem(__view_pos);\n  const oPosObj = getViewPos();\n  delete oPosObj[id];\n  localStorage.setItem(__view_pos, JSON.stringify(oPosObj));\n};\n\n/** ==================== 存储浏览历史 ==================== */\nexport const getHistory = () => {\n  const oList = JSON.parse(localStorage.getItem(__history) || \"[]\");\n  return oList;\n};\n\nexport const setHistory = (option) => {\n  const oList = getHistory();\n  const idx = oList.findIndex((item) => item.id === option.id);\n  if (idx > -1) {\n    oList.splice(idx, 1);\n  }\n  const list = [option, ...oList];\n  localStorage.setItem(__history, JSON.stringify(list));\n};\n\nexport const removeHistory = (id) => {\n  const oList = getHistory();\n  const newList = oList.filter((item) => item.id !== id);\n  localStorage.setItem(__history, JSON.stringify(newList));\n  return newList;\n};\nexport const clearHistory = () => localStorage.removeItem(__history);\n","import { Button, Dialog, Form, Input } from \"antd-mobile\";\n\nimport React from \"react\";\nimport { setUserInfo } from \"../../utils/storage\";\nimport { useHistory } from \"react-router\";\n\nexport default (props) => {\n  const history = useHistory();\n  const [form] = Form.useForm();\n\n  const onFinish = (values) => {\n    const value = form.getFieldsValue();\n    if (value.username !== \"admin\") {\n      Dialog.alert({ content: \"用户名错误!\" });\n      return;\n    }\n    if (value.password !== \"123456\") {\n      Dialog.alert({ content: \"密码错误!\" });\n      return;\n    }\n    setUserInfo(value);\n    history.replace(\"/\");\n  };\n  return (\n    <div>\n      <Form\n        form={form}\n        layout=\"horizontal\"\n        mode=\"card\"\n        onFinish={onFinish}\n        initialValues={{ username: \"admin\", password: \"123456\" }}\n      >\n        <Form.Header>用户登录</Form.Header>\n        <Form.Item\n          label=\"用户名\"\n          name=\"username\"\n          rules={[{ required: true, message: \"请输入用户名!\" }]}\n        >\n          <Input placeholder=\"admin\" />\n        </Form.Item>\n        <Form.Item\n          label=\"密码\"\n          name=\"password\"\n          rules={[{ required: true, message: \"密码不能为空!\" }]}\n        >\n          <Input type=\"password\" placeholder=\"123456\" />\n        </Form.Item>\n        <Button\n          block\n          color=\"primary\"\n          type=\"submit\"\n          size=\"large\"\n          style={{ marginTop: 20 }}\n        >\n          提交\n        </Button>\n      </Form>\n    </div>\n  );\n};\n"],"sourceRoot":""}