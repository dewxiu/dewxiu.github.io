{"version":3,"sources":["views/login/index.js","utils/storage.js"],"names":["props","console","log","history","useHistory","Form","useForm","form","layout","mode","onFinish","values","value","getFieldsValue","password","setUserInfo","replace","Dialog","alert","content","initialValues","username","Header","Item","label","name","rules","required","message","placeholder","type","block","color","size","style","marginTop","getUserInfo","JSON","parse","localStorage","getItem","userinfo","setItem","stringify","removeUserInfo","removeItem","getCollapse","setCollapse","collapse","getActiveTitle","Number","setActiveTitle","id","getViewPos","articleId","posObj","setViewPos","pos","rest","newObj"],"mappings":"4KAMe,mBAACA,GACZC,QAAQC,IAAI,QAASF,GACrB,IAAMG,EAAUC,cAFM,EAIPC,IAAKC,UAAbC,EAJe,oBAiBtB,OACI,6BACI,kBAAC,IAAD,CACIA,KAAMA,EACNC,OAAO,aACPC,KAAK,OACLC,SAjBK,SAACC,GACdV,QAAQC,IAAI,WAAYS,GACxB,IAAMC,EAAQL,EAAKM,iBACI,WAAnBD,EAAME,UAIVb,QAAQC,IAAI,QAASU,GACrBG,YAAYH,GACZT,EAAQa,QAAQ,MALZC,IAAOC,MAAM,CAAEC,QAAS,+BAcpBC,cAAe,CAAEC,SAAU,QAASP,SAAU,WAE9C,kBAAC,IAAKQ,OAAN,iCACA,kBAAC,IAAKC,KAAN,CACIC,MAAM,qBACNC,KAAK,WACLC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,2CAEnC,kBAAC,IAAD,CAAOC,YAAY,WAEvB,kBAAC,IAAKN,KAAN,CACIC,MAAM,eACNC,KAAK,WACLC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,2CAEnC,kBAAC,IAAD,CAAOE,KAAK,WAAWD,YAAY,YAEvC,kBAAC,IAAD,CACIE,OAAK,EACLC,MAAM,UACNF,KAAK,SACLG,KAAK,QACLC,MAAO,CAAEC,UAAW,KALxB,oB,+5BC/ChB,IAMaC,EAAc,kBACzBC,KAAKC,MAAMC,aAAaC,QAPP,iBAO8B,OACpCzB,EAAc,SAAC0B,GAAD,OACzBF,aAAaG,QATI,eASgBL,KAAKM,UAAUF,KACrCG,EAAiB,kBAAML,aAAaM,WAV9B,iBAaNC,EAAc,kBAAMP,aAAaC,QAZ3B,iBAYkD,MACxDO,EAAc,SAACC,GAAD,OACzBT,aAAaG,QAdI,eAcgBM,IAItBC,EAAiB,kBAAMC,OAAOX,aAAaC,QAjBpC,mBAkBPW,EAAiB,SAACC,GAAD,OAAQb,aAAaG,QAlB/B,gBAkBoDU,IAI3DC,EAAa,SAACC,GACzB,IAAMC,EAASlB,KAAKC,MAAMC,aAAaC,QAtBtB,iBAsB6C,MAE9D,OADYc,EAAYC,EAAOD,GAAaC,GAKjCC,EAAa,SAAC,GAAuC,IAArCF,EAAoC,EAApCA,UAAWG,EAAyB,EAAzBA,IAAKhC,EAAoB,EAApBA,KAASiC,EAAW,0CAEzDC,EAAM,KADGN,IACH,eAAiBC,EAAjB,GAA+BG,MAAKhC,QAASiC,KACzDnB,aAAaG,QA/BI,eA+BgBL,KAAKM,UAAUgB","file":"static/js/login.96bc493a.chunk.js","sourcesContent":["import { Button, Dialog, Form, Input } from \"antd-mobile\";\n\nimport React from \"react\";\nimport { setUserInfo } from \"../../utils/storage\";\nimport { useHistory } from \"react-router\";\n\nexport default (props) => {\n    console.log(\"props\", props);\n    const history = useHistory();\n\n    const [form] = Form.useForm();\n\n    const onFinish = (values) => {\n        console.log(\"onFinish\", values);\n        const value = form.getFieldsValue();\n        if (value.password !== '123456') {\n            Dialog.alert({ content: \"密码错误!\" });\n            return;\n        }\n        console.log(\"value\", value);\n        setUserInfo(value);\n        history.replace(\"/\");\n    };\n    return (\n        <div>\n            <Form\n                form={form}\n                layout=\"horizontal\"\n                mode=\"card\"\n                onFinish={onFinish}\n                initialValues={{ username: \"admin\", password: '123456' }}\n            >\n                <Form.Header>用户登录</Form.Header>\n                <Form.Item\n                    label=\"用户名\"\n                    name=\"username\"\n                    rules={[{ required: true, message: \"请输入用户名!\" }]}\n                >\n                    <Input placeholder=\"admin\" />\n                </Form.Item>\n                <Form.Item\n                    label=\"密码\"\n                    name=\"password\"\n                    rules={[{ required: true, message: \"密码不能为空!\" }]}\n                >\n                    <Input type=\"password\" placeholder=\"123456\" />\n                </Form.Item>\n                <Button\n                    block\n                    color=\"primary\"\n                    type=\"submit\"\n                    size=\"large\"\n                    style={{ marginTop: 20 }}\n                >\n                    提交\n                </Button>\n            </Form>\n        </div>\n    );\n};\n","const __userinfo = \"__userinfo__\";\nconst __collapse = \"__collapse__\";\nconst __activeKey = \"__activeKey__\";\nconst __view_pos = \"__view_pos__\";\n\n/** 保存用户名和密码 */\nexport const getUserInfo = () =>\n  JSON.parse(localStorage.getItem(__userinfo) || \"{}\");\nexport const setUserInfo = (userinfo) =>\n  localStorage.setItem(__userinfo, JSON.stringify(userinfo));\nexport const removeUserInfo = () => localStorage.removeItem(__userinfo);\n\n/** 保存菜单展开 */\nexport const getCollapse = () => localStorage.getItem(__collapse) || null;\nexport const setCollapse = (collapse) =>\n  localStorage.setItem(__collapse, collapse);\nexport const removeCollapse = () => localStorage.removeItem(__collapse);\n\n/** 保存点击的文章id */\nexport const getActiveTitle = () => Number(localStorage.getItem(__activeKey));\nexport const setActiveTitle = (id) => localStorage.setItem(__activeKey, id);\nexport const removeActiveTitle = () => localStorage.removeItem(__activeKey);\n\n/** 根据文章id存储浏览位置 */\nexport const getViewPos = (articleId) => {\n  const posObj = JSON.parse(localStorage.getItem(__view_pos) || \"{}\");\n  const pos = articleId ? posObj[articleId] : posObj;\n  return pos;\n};\n\n// 记录用户行为\nexport const setViewPos = ({ articleId, pos, name, ...rest }) => {\n  const posObj = getViewPos();\n  const newObj = { ...posObj, [articleId]: { pos, name, ...rest } };\n  localStorage.setItem(__view_pos, JSON.stringify(newObj));\n};\nexport const removeViewPos = () => localStorage.removeItem(__view_pos);\n"],"sourceRoot":""}