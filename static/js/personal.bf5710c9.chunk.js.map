{"version":3,"sources":["views/home/personal/index.js","utils/storage.js","assets/images/header.png"],"names":["Personal","history","useHistory","logout","a","Dialog","confirm","content","removeUserInfo","replace","className","header","Item","key","prefix","src","style","borderRadius","fit","width","height","description","margin","href","target","rel","textDecoration","display","color","background","lineHeight","textAlign","fontSize","marginTop","block","onClick","getUserInfo","JSON","parse","localStorage","getItem","setUserInfo","userinfo","userInfo","setItem","stringify","removeItem","getCollapse","setCollapse","collapse","getActiveTitle","Number","setActiveTitle","id","getViewPos","articleId","posObj","setViewPos","pos","name","percent","rest","curPercent","newObj","removeViewPos","oPosObj","getHistory","setHistory","option","oList","idx","findIndex","item","splice","list","removeHistory","newList","filter","clearHistory","module","exports"],"mappings":"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","file":"static/js/personal.bf5710c9.chunk.js","sourcesContent":["import { Button, Dialog, Image, List } from \"antd-mobile\";\r\n\r\nimport React from \"react\";\r\nimport header from \"../../../assets/images/header.png\";\r\nimport { removeUserInfo } from \"../../../utils/storage\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Personal = () => {\r\n  const history = useHistory();\r\n  const logout = async () => {\r\n    const res = await Dialog.confirm({ content: \"确认退出吗?\" });\r\n    if (res) {\r\n      removeUserInfo();\r\n      history.replace(\"/login\");\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"flex-col just-between ui-h-100\">\r\n      <div>\r\n        <List header=\"联系\">\r\n          <List.Item\r\n            key={\"hailen\"}\r\n            prefix={<Image src={header} style={{ borderRadius: 20 }} fit=\"cover\" width={40} height={40} />}\r\n            description={\"联系QQ: 759430324\"}\r\n          >\r\n            Hailen\r\n          </List.Item>\r\n        </List>\r\n        <List header=\"设置\">\r\n          <List.Item\r\n            key={\"hailen\"}\r\n            prefix={<Image src={header} style={{ borderRadius: 20 }} fit=\"cover\" width={40} height={40} />}\r\n            description={\"联系QQ: 759430324\"}\r\n          >\r\n            Hailen\r\n          </List.Item>\r\n        </List>\r\n        <div style={{ margin: \"50px 10px 0\" }}>\r\n          <a\r\n            href=\"http://wpa.qq.com/msgrd?v=3&uin=759430324&site=qq&menu=yes\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            style={{\r\n              textDecoration: \"none\",\r\n              display: \"inline-block\",\r\n              width: \"100%\",\r\n              color: \"#fff\",\r\n              background: \"#1684ff\",\r\n              lineHeight: \"38px\",\r\n              textAlign: \"center\",\r\n              borderRadius: \"4px\",\r\n              height: \"38px\",\r\n              fontSize: \"16px\",\r\n            }}\r\n          >\r\n            联系Hailen\r\n          </a>\r\n          <a\r\n            href=\"https://qm.qq.com/cgi-bin/qm/qr?k=2owhPlBhOmMZZxp_DITsLwA30f-_xCfx&authKey=A/99MHT/hWGrWgT5EO+n9lygW7c8yt8LSWyJ1qM5Nw4TN1UzvsYtlXhddmtF4FAu&noverify=0\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            style={{\r\n              textDecoration: \"none\",\r\n              display: \"inline-block\",\r\n              width: \"100%\",\r\n              color: \"#fff\",\r\n              background: \"#1684ff\",\r\n              lineHeight: \"38px\",\r\n              textAlign: \"center\",\r\n              borderRadius: \"4px\",\r\n              height: \"38px\",\r\n              fontSize: \"16px\",\r\n              marginTop: \"20px\",\r\n            }}\r\n          >\r\n            添加进群\r\n          </a>\r\n\r\n          <Button block color=\"danger\" style={{ marginTop: \"20px\" }} onClick={logout}>\r\n            退出\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Personal;\r\n","const __userinfo = \"__userinfo__\";\nconst __collapse = \"__collapse__\";\nconst __activeKey = \"__activeKey__\";\nconst __view_pos = \"__view_pos__\";\nconst __history = \"__history__\";\n\n/** ==================== 保存用户名和密码 ==================== */\nexport const getUserInfo = () => JSON.parse(localStorage.getItem(__userinfo) || \"{}\");\nexport const setUserInfo = (userinfo) => {\n  const userInfo = getUserInfo();\n  localStorage.setItem(__userinfo, JSON.stringify({ ...userInfo, ...userinfo }));\n};\nexport const removeUserInfo = () => localStorage.removeItem(__userinfo);\n\n/** ==================== 保存菜单展开 ==================== */\nexport const getCollapse = () => localStorage.getItem(__collapse) || null;\nexport const setCollapse = (collapse) => {\n  const col = localStorage.setItem(__collapse, collapse);\n  return col;\n};\n\nexport const removeCollapse = () => localStorage.removeItem(__collapse);\n\n/** ==================== 保存点击的文章id ==================== */\nexport const getActiveTitle = () => Number(localStorage.getItem(__activeKey));\nexport const setActiveTitle = (id) => localStorage.setItem(__activeKey, id);\nexport const removeActiveTitle = () => localStorage.removeItem(__activeKey);\n\n/** ==================== 保存浏览位置 ==================== */\nexport const getViewPos = (articleId) => {\n  const posObj = JSON.parse(localStorage.getItem(__view_pos) || \"{}\");\n  const res = articleId ? posObj[articleId] : posObj;\n  return res;\n};\n\nexport const setViewPos = ({ id, pos, name, percent, ...rest }) => {\n  const posObj = getViewPos();\n  let curPercent = posObj.percent || 0;\n  if (percent > curPercent) curPercent = percent;\n\n  const newObj = {\n    ...posObj,\n    [id]: { pos, name, ...rest, percent: curPercent },\n  };\n  localStorage.setItem(__view_pos, JSON.stringify(newObj));\n};\n\nexport const removeViewPos = (id) => {\n  // localStorage.removeItem(__view_pos);\n  const oPosObj = getViewPos();\n  delete oPosObj[id];\n  localStorage.setItem(__view_pos, JSON.stringify(oPosObj));\n};\n\n/** ==================== 存储浏览历史 ==================== */\nexport const getHistory = () => {\n  const oList = JSON.parse(localStorage.getItem(__history) || \"[]\");\n  return oList;\n};\n\nexport const setHistory = (option) => {\n  const oList = getHistory();\n  const idx = oList.findIndex((item) => item.id === option.id);\n  if (idx > -1) {\n    oList.splice(idx, 1);\n  }\n  const list = [option, ...oList];\n  localStorage.setItem(__history, JSON.stringify(list));\n};\n\nexport const removeHistory = (id) => {\n  const oList = getHistory();\n  const newList = oList.filter((item) => item.id !== id);\n  localStorage.setItem(__history, JSON.stringify(newList));\n  return newList;\n};\nexport const clearHistory = () => localStorage.removeItem(__history);\n","module.exports = __webpack_public_path__ + \"static/media/header.0e6a6d25.png\";"],"sourceRoot":""}