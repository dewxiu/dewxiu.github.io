{"version":3,"sources":["views/login/index.js","utils/storage.js"],"names":["props","console","log","history","useHistory","Form","useForm","form","layout","mode","onFinish","values","value","getFieldsValue","password","setUserInfo","replace","Dialog","alert","content","initialValues","username","Header","Item","label","name","rules","required","message","placeholder","type","block","color","size","style","marginTop","getUserInfo","JSON","parse","localStorage","getItem","userinfo","setItem","stringify","removeUserInfo","removeItem","getCollapse","setCollapse","collapse"],"mappings":"4KAMe,mBAACA,GACZC,QAAQC,IAAI,QAASF,GACrB,IAAMG,EAAUC,cAFM,EAIPC,IAAKC,UAAbC,EAJe,oBAiBtB,OACI,6BACI,kBAAC,IAAD,CACIA,KAAMA,EACNC,OAAO,aACPC,KAAK,OACLC,SAjBK,SAACC,GACdV,QAAQC,IAAI,WAAYS,GACxB,IAAMC,EAAQL,EAAKM,iBACI,WAAnBD,EAAME,UAIVb,QAAQC,IAAI,QAASU,GACrBG,YAAYH,GACZT,EAAQa,QAAQ,MALZC,IAAOC,MAAM,CAAEC,QAAS,+BAcpBC,cAAe,CAAEC,SAAU,UAE3B,kBAAC,IAAKC,OAAN,iCACA,kBAAC,IAAKC,KAAN,CACIC,MAAM,qBACNC,KAAK,WACLC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,2CAEnC,kBAAC,IAAD,CAAOC,YAAY,WAEvB,kBAAC,IAAKN,KAAN,CACIC,MAAM,eACNC,KAAK,WACLC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,2CAEnC,kBAAC,IAAD,CAAOE,KAAK,WAAWD,YAAY,YAEvC,kBAAC,IAAD,CACIE,OAAK,EACLC,MAAM,UACNF,KAAK,SACLG,KAAK,QACLC,MAAO,CAAEC,UAAW,KALxB,oB,iCC/ChB,8KAIaC,EAAc,kBAAMC,KAAKC,MAAMC,aAAaC,QAJtC,iBAI6D,OAEnEzB,EAAc,SAAC0B,GAAD,OAAcF,aAAaG,QANnC,eAMuDL,KAAKM,UAAUF,KAE5EG,EAAiB,kBAAML,aAAaM,WAR9B,iBAYNC,EAAc,kBAAMP,aAAaC,QAX3B,iBAWkD,MAExDO,EAAc,SAACC,GAAD,OAAcT,aAAaG,QAbnC,eAauDM","file":"static/js/login.3bc2cd33.chunk.js","sourcesContent":["import { Button, Dialog, Form, Input } from \"antd-mobile\";\n\nimport React from \"react\";\nimport { setUserInfo } from \"../../utils/storage\";\nimport { useHistory } from \"react-router\";\n\nexport default (props) => {\n    console.log(\"props\", props);\n    const history = useHistory();\n\n    const [form] = Form.useForm();\n\n    const onFinish = (values) => {\n        console.log(\"onFinish\", values);\n        const value = form.getFieldsValue();\n        if (value.password !== \"123456\") {\n            Dialog.alert({ content: \"密码错误!\" });\n            return;\n        }\n        console.log(\"value\", value);\n        setUserInfo(value);\n        history.replace(\"/\");\n    };\n    return (\n        <div>\n            <Form\n                form={form}\n                layout=\"horizontal\"\n                mode=\"card\"\n                onFinish={onFinish}\n                initialValues={{ username: \"admin\" }}\n            >\n                <Form.Header>用户登录</Form.Header>\n                <Form.Item\n                    label=\"用户名\"\n                    name=\"username\"\n                    rules={[{ required: true, message: \"请输入用户名!\" }]}\n                >\n                    <Input placeholder=\"admin\" />\n                </Form.Item>\n                <Form.Item\n                    label=\"密码\"\n                    name=\"password\"\n                    rules={[{ required: true, message: \"密码不能为空!\" }]}\n                >\n                    <Input type=\"password\" placeholder=\"123456\" />\n                </Form.Item>\n                <Button\n                    block\n                    color=\"primary\"\n                    type=\"submit\"\n                    size=\"large\"\n                    style={{ marginTop: 20 }}\n                >\n                    提交\n                </Button>\n            </Form>\n        </div>\n    );\n};\n","const __userinfo = '__userinfo__'\nconst __collapse = '__collapse__'\n\n/** 获取用户名和密码 */\nexport const getUserInfo = () => JSON.parse(localStorage.getItem(__userinfo) || '{}');\n/** 设置用户名和密码 */\nexport const setUserInfo = (userinfo) => localStorage.setItem(__userinfo, JSON.stringify(userinfo));\n/** 移出用户名和密码 */\nexport const removeUserInfo = () => localStorage.removeItem(__userinfo);\n\n\n/** 保存首页菜单展开 */\nexport const getCollapse = () => localStorage.getItem(__collapse) || null;\n/** 设置首页菜单展开 */\nexport const setCollapse = (collapse) => localStorage.setItem(__collapse, collapse);\n/** 移出首页菜单展开 */\nexport const removeCollapse = () => localStorage.removeItem(__collapse);\n"],"sourceRoot":""}