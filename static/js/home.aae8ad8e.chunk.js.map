{"version":3,"sources":["views/home/index.js","utils/storage.js"],"names":["history","useHistory","userInfo","getUserInfo","username","password","Dialog","alert","content","then","replace","JSON","parse","localStorage","getItem","setUserInfo","userinfo","setItem","stringify","removeUserInfo","removeItem","getCollapse","setCollapse","collapse","getActiveTitle","Number","setActiveTitle","id","getViewPos","articleId","posObj","setViewPos","pos","name","rest","newObj"],"mappings":"kHAAA,mEAOe,qBACb,IAAMA,EAAUC,cACVC,EAAWC,cAMjB,OALKD,EAASE,UAAaF,EAASG,UAClCC,IAAOC,MAAM,CAAEC,QAAS,8BAAWC,MAAK,WACtCT,EAAQU,QAAQ,aAIlB,kBAAC,IAAD,KACE,kBAAC,IAAD,S,+5BCjBN,IAMaP,EAAc,kBACzBQ,KAAKC,MAAMC,aAAaC,QAPP,iBAO8B,OACpCC,EAAc,SAACC,GAAD,OACzBH,aAAaI,QATI,eASgBN,KAAKO,UAAUF,KACrCG,EAAiB,kBAAMN,aAAaO,WAV9B,iBAaNC,EAAc,kBAAMR,aAAaC,QAZ3B,iBAYkD,MACxDQ,EAAc,SAACC,GAAD,OACzBV,aAAaI,QAdI,eAcgBM,IAItBC,EAAiB,kBAAMC,OAAOZ,aAAaC,QAjBpC,mBAkBPY,EAAiB,SAACC,GAAD,OAAQd,aAAaI,QAlB/B,gBAkBoDU,IAI3DC,EAAa,SAACC,GACzB,IAAMC,EAASnB,KAAKC,MAAMC,aAAaC,QAtBtB,iBAsB6C,MAE9D,OADYe,EAAYC,EAAOD,GAAaC,GAKjCC,EAAa,SAAC,GAAuC,IAArCF,EAAoC,EAApCA,UAAWG,EAAyB,EAAzBA,IAAKC,EAAoB,EAApBA,KAASC,EAAW,0CAEzDC,EAAM,KADGP,IACH,eAAiBC,EAAjB,GAA+BG,MAAKC,QAASC,KACzDrB,aAAaI,QA/BI,eA+BgBN,KAAKO,UAAUiB","file":"static/js/home.aae8ad8e.chunk.js","sourcesContent":["import { Dialog } from \"antd-mobile\";\nimport MenuList from \"../../layout/MenuList\";\nimport { MenuRouter } from \"../../router\";\nimport React from \"react\";\nimport { getUserInfo } from \"../../utils/storage\";\nimport { useHistory } from \"react-router\";\n\nexport default () => {\n  const history = useHistory();\n  const userInfo = getUserInfo();\n  if (!userInfo.username || !userInfo.password) {\n    Dialog.alert({ content: \"请先登录!\" }).then(() => {\n      history.replace(\"/login\");\n    });\n  }\n  return (\n    <MenuList>\n      <MenuRouter />\n    </MenuList>\n  );\n};\n","const __userinfo = \"__userinfo__\";\nconst __collapse = \"__collapse__\";\nconst __activeKey = \"__activeKey__\";\nconst __view_pos = \"__view_pos__\";\n\n/** 保存用户名和密码 */\nexport const getUserInfo = () =>\n  JSON.parse(localStorage.getItem(__userinfo) || \"{}\");\nexport const setUserInfo = (userinfo) =>\n  localStorage.setItem(__userinfo, JSON.stringify(userinfo));\nexport const removeUserInfo = () => localStorage.removeItem(__userinfo);\n\n/** 保存菜单展开 */\nexport const getCollapse = () => localStorage.getItem(__collapse) || null;\nexport const setCollapse = (collapse) =>\n  localStorage.setItem(__collapse, collapse);\nexport const removeCollapse = () => localStorage.removeItem(__collapse);\n\n/** 保存点击的文章id */\nexport const getActiveTitle = () => Number(localStorage.getItem(__activeKey));\nexport const setActiveTitle = (id) => localStorage.setItem(__activeKey, id);\nexport const removeActiveTitle = () => localStorage.removeItem(__activeKey);\n\n/** 根据文章id存储浏览位置 */\nexport const getViewPos = (articleId) => {\n  const posObj = JSON.parse(localStorage.getItem(__view_pos) || \"{}\");\n  const pos = articleId ? posObj[articleId] : posObj;\n  return pos;\n};\n\n// 记录用户行为\nexport const setViewPos = ({ articleId, pos, name, ...rest }) => {\n  const posObj = getViewPos();\n  const newObj = { ...posObj, [articleId]: { pos, name, ...rest } };\n  localStorage.setItem(__view_pos, JSON.stringify(newObj));\n};\nexport const removeViewPos = () => localStorage.removeItem(__view_pos);\n"],"sourceRoot":""}