{"version":3,"sources":["views/home/index.js","utils/index.js"],"names":["useEffect","history","useHistory","userInfo","getUserInfo","console","log","username","password","Dialog","alert","content","then","replace","JSON","parse","localStorage","getItem","setUserInfo","userinfo","setItem","stringify"],"mappings":"kHAAA,mEAQe,qBAYd,OAXAA,qBAAU,WACT,IAAMC,EAAUC,cACVC,EAAWC,cACjBC,QAAQC,IAAI,WAAYH,GACnBA,EAASI,UAAaJ,EAASK,UACnCC,IAAOC,MAAM,CAAEC,QAAS,8BAAWC,MAAK,WACvCX,EAAQY,QAAQ,eAGhB,IAGF,kBAAC,IAAD,KACC,kBAAC,IAAD,S,iCCtBH,wEAGaT,EAAc,kBAAMU,KAAKC,MAAMC,aAAaC,QAHtC,iBAG6D,OACnEC,EAAc,SAACC,GAAD,OAAcH,aAAaI,QAJnC,eAIuDN,KAAKO,UAAUF","file":"static/js/home.9ee0d0d9.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\n\nimport { Dialog, } from \"antd-mobile\";\nimport MenuList from \"../../layout/MenuList\";\nimport { MenuRouter } from '../../router'\nimport { getUserInfo } from '../../utils'\nimport { useHistory } from \"react-router\";\n\nexport default () => {\n\tuseEffect(() => {\n\t\tconst history = useHistory();\n\t\tconst userInfo = getUserInfo()\n\t\tconsole.log('userInfo', userInfo)\n\t\tif (!userInfo.username || !userInfo.password) {\n\t\t\tDialog.alert({ content: '请先登录!' }).then(() => {\n\t\t\t\thistory.replace(\"/login\")\n\t\t\t})\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<MenuList>\n\t\t\t<MenuRouter />\n\t\t</MenuList>\n\t);\n\n} \n","const __userinfo = '__userinfo__'\n\n/** 保存用户名和密码 */\nexport const getUserInfo = () => JSON.parse(localStorage.getItem(__userinfo) || '{}');\nexport const setUserInfo = (userinfo) => localStorage.setItem(__userinfo, JSON.stringify(userinfo));\nexport const removeUserInfo = () => localStorage.removeItem(__userinfo);\n"],"sourceRoot":""}