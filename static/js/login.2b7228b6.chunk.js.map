{"version":3,"sources":["views/login/index.js","utils/storage.js"],"names":["props","history","useHistory","Form","useForm","form","layout","mode","onFinish","values","value","getFieldsValue","username","password","setUserInfo","replace","Dialog","alert","content","initialValues","Header","Item","label","name","rules","required","message","placeholder","type","block","color","size","style","marginTop","getUserInfo","JSON","parse","localStorage","getItem","userinfo","userInfo","setItem","stringify","removeUserInfo","removeItem","getCollapse","setCollapse","collapse","getActiveTitle","Number","setActiveTitle","id","getViewPos","articleId","posObj","setViewPos","pos","rest","newObj","getHistory","setHistory","option","oList","idx","findIndex","item","splice","list","removeHistory","newList","filter","clearHistory"],"mappings":"4KAMe,mBAACA,GACd,IAAMC,EAAUC,cADQ,EAETC,IAAKC,UAAbC,EAFiB,oBAiBxB,OACE,6BACE,kBAAC,IAAD,CACEA,KAAMA,EACNC,OAAO,aACPC,KAAK,OACLC,SAnBW,SAACC,GAChB,IAAMC,EAAQL,EAAKM,iBACI,UAAnBD,EAAME,SAIa,WAAnBF,EAAMG,UAIVC,YAAYJ,GACZT,EAAQc,QAAQ,MAJdC,IAAOC,MAAM,CAAEC,QAAS,8BAJxBF,IAAOC,MAAM,CAAEC,QAAS,qCAiBtBC,cAAe,CAAEP,SAAU,QAASC,SAAU,WAE9C,kBAAC,IAAKO,OAAN,iCACA,kBAAC,IAAKC,KAAN,CACEC,MAAM,qBACNC,KAAK,WACLC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,2CAEnC,kBAAC,IAAD,CAAOC,YAAY,WAErB,kBAAC,IAAKN,KAAN,CACEC,MAAM,eACNC,KAAK,WACLC,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,2CAEnC,kBAAC,IAAD,CAAOE,KAAK,WAAWD,YAAY,YAErC,kBAAC,IAAD,CACEE,OAAK,EACLC,MAAM,UACNF,KAAK,SACLG,KAAK,QACLC,MAAO,CAAEC,UAAW,KALtB,oB,8iCC/CR,IAOaC,EAAc,kBACzBC,KAAKC,MAAMC,aAAaC,QARP,iBAQ8B,OACpCxB,EAAc,SAACyB,GAC1B,IAAMC,EAAWN,IACjBG,aAAaI,QAXI,eAafN,KAAKO,UAAL,KAAoBF,EAApB,GAAiCD,MAGxBI,EAAiB,kBAAMN,aAAaO,WAhB9B,iBAmBNC,EAAc,kBAAMR,aAAaC,QAlB3B,iBAkBkD,MACxDQ,EAAc,SAACC,GAE1B,OADYV,aAAaI,QApBR,eAoB4BM,IAOlCC,EAAiB,kBAAMC,OAAOZ,aAAaC,QA1BpC,mBA2BPY,EAAiB,SAACC,GAAD,OAAQd,aAAaI,QA3B/B,gBA2BoDU,IAI3DC,EAAa,SAACC,GACzB,IAAMC,EAASnB,KAAKC,MAAMC,aAAaC,QA/BtB,iBA+B6C,MAE9D,OADYe,EAAYC,EAAOD,GAAaC,GAIjCC,EAAa,SAAC,GAAgC,IAA9BJ,EAA6B,EAA7BA,GAAIK,EAAyB,EAAzBA,IAAKjC,EAAoB,EAApBA,KAASkC,EAAW,mCAElDC,EAAM,KADGN,IACH,eAAiBD,EAAjB,GAAwBK,MAAKjC,QAASkC,KAClDpB,aAAaI,QAvCI,eAuCgBN,KAAKO,UAAUgB,KAMrCC,EAAa,WAExB,OADcxB,KAAKC,MAAMC,aAAaC,QA7CtB,gBA6C4C,OAIjDsB,EAAa,SAACC,GACzB,IAAMC,EAAQH,IACRI,EAAMD,EAAME,WAAU,SAACC,GAAD,OAAUA,EAAKd,KAAOU,EAAOV,MACrDY,GAAO,GACTD,EAAMI,OAAOH,EAAK,GAEpB,IAAMI,EAAI,CAAIN,GAAJ,mBAAeC,IACzBzB,aAAaI,QAxDG,cAwDgBN,KAAKO,UAAUyB,KAGpCC,EAAgB,SAACjB,GAC5B,IACMkB,EADQV,IACQW,QAAO,SAACL,GAAD,OAAUA,EAAKd,KAAOA,KAEnD,OADAd,aAAaI,QA9DG,cA8DgBN,KAAKO,UAAU2B,IACxCA,GAEIE,EAAe,kBAAMlC,aAAaO,WAjE7B","file":"static/js/login.2b7228b6.chunk.js","sourcesContent":["import { Button, Dialog, Form, Input } from \"antd-mobile\";\n\nimport React from \"react\";\nimport { setUserInfo } from \"../../utils/storage\";\nimport { useHistory } from \"react-router\";\n\nexport default (props) => {\n  const history = useHistory();\n  const [form] = Form.useForm();\n\n  const onFinish = (values) => {\n    const value = form.getFieldsValue();\n    if (value.username !== \"admin\") {\n      Dialog.alert({ content: \"用户名错误!\" });\n      return;\n    }\n    if (value.password !== \"123456\") {\n      Dialog.alert({ content: \"密码错误!\" });\n      return;\n    }\n    setUserInfo(value);\n    history.replace(\"/\");\n  };\n  return (\n    <div>\n      <Form\n        form={form}\n        layout=\"horizontal\"\n        mode=\"card\"\n        onFinish={onFinish}\n        initialValues={{ username: \"admin\", password: \"123456\" }}\n      >\n        <Form.Header>用户登录</Form.Header>\n        <Form.Item\n          label=\"用户名\"\n          name=\"username\"\n          rules={[{ required: true, message: \"请输入用户名!\" }]}\n        >\n          <Input placeholder=\"admin\" />\n        </Form.Item>\n        <Form.Item\n          label=\"密码\"\n          name=\"password\"\n          rules={[{ required: true, message: \"密码不能为空!\" }]}\n        >\n          <Input type=\"password\" placeholder=\"123456\" />\n        </Form.Item>\n        <Button\n          block\n          color=\"primary\"\n          type=\"submit\"\n          size=\"large\"\n          style={{ marginTop: 20 }}\n        >\n          提交\n        </Button>\n      </Form>\n    </div>\n  );\n};\n","const __userinfo = \"__userinfo__\";\nconst __collapse = \"__collapse__\";\nconst __activeKey = \"__activeKey__\";\nconst __view_pos = \"__view_pos__\";\nconst __history = \"__history__\";\n\n/** ==================== 保存用户名和密码 ==================== */\nexport const getUserInfo = () =>\n  JSON.parse(localStorage.getItem(__userinfo) || \"{}\");\nexport const setUserInfo = (userinfo) => {\n  const userInfo = getUserInfo();\n  localStorage.setItem(\n    __userinfo,\n    JSON.stringify({ ...userInfo, ...userinfo })\n  );\n};\nexport const removeUserInfo = () => localStorage.removeItem(__userinfo);\n\n/** ==================== 保存菜单展开 ==================== */\nexport const getCollapse = () => localStorage.getItem(__collapse) || null;\nexport const setCollapse = (collapse) => {\n  const col = localStorage.setItem(__collapse, collapse);\n  return col;\n};\n\nexport const removeCollapse = () => localStorage.removeItem(__collapse);\n\n/** ==================== 保存点击的文章id ==================== */\nexport const getActiveTitle = () => Number(localStorage.getItem(__activeKey));\nexport const setActiveTitle = (id) => localStorage.setItem(__activeKey, id);\nexport const removeActiveTitle = () => localStorage.removeItem(__activeKey);\n\n/** ==================== 保存浏览位置 ==================== */\nexport const getViewPos = (articleId) => {\n  const posObj = JSON.parse(localStorage.getItem(__view_pos) || \"{}\");\n  const pos = articleId ? posObj[articleId] : posObj;\n  return pos;\n};\n\nexport const setViewPos = ({ id, pos, name, ...rest }) => {\n  const posObj = getViewPos();\n  const newObj = { ...posObj, [id]: { pos, name, ...rest } };\n  localStorage.setItem(__view_pos, JSON.stringify(newObj));\n};\n\nexport const removeViewPos = () => localStorage.removeItem(__view_pos);\n\n/** ==================== 存储浏览历史 ==================== */\nexport const getHistory = () => {\n  const oList = JSON.parse(localStorage.getItem(__history) || \"[]\");\n  return oList;\n};\n\nexport const setHistory = (option) => {\n  const oList = getHistory();\n  const idx = oList.findIndex((item) => item.id === option.id);\n  if (idx > -1) {\n    oList.splice(idx, 1);\n  }\n  const list = [option, ...oList];\n  localStorage.setItem(__history, JSON.stringify(list));\n};\n\nexport const removeHistory = (id) => {\n  const oList = getHistory();\n  const newList = oList.filter((item) => item.id !== id);\n  localStorage.setItem(__history, JSON.stringify(newList));\n  return newList;\n};\nexport const clearHistory = () => localStorage.removeItem(__history);\n"],"sourceRoot":""}