{"version":3,"sources":["views/home/home.js","utils/storage.js"],"names":["extArr","marxList","path","children","routerList","results","filter","f","includes","id","map","name","title","description","exact","Home","props","useState","isCollapse","setIsCollapse","activeKey","setActiveKey","history","useHistory","useEffect","coll","getCollapse","activeId","getActiveTitle","onJumpList","item","bigTitle","setActiveTitle","push","pathname","search","encodeURIComponent","accordion","onChange","value","setCollapse","route","hidden","Panel","key","className","child","index","style","color","padding","onClick","arrow","getUserInfo","JSON","parse","localStorage","getItem","setUserInfo","userinfo","setItem","stringify","removeUserInfo","removeItem","collapse","Number"],"mappings":"6LAeMA,EAAS,CACb,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,KAAM,KAAM,MAWvDC,EAAW,CACf,CACEC,KAAM,SACNC,SAXiBC,IAAWC,QAC7BC,QAAO,SAACC,GAAD,OAAQP,EAAOQ,SAASD,EAAEE,OACjCC,KAAI,kBAAoB,CACvBC,KADG,EAAGC,MAENH,GAFG,EAAUA,GAGbP,KAAM,oBAONS,KAAM,2EACNE,YACE,6cAEJ,CACEX,KAAM,gBACNY,OAAO,EACPL,GAAI,KACJE,KAAM,yDACNE,YACE,8fAEJ,CACEX,KAAM,cACNC,SAAU,CACR,CACEM,GAAI,MACJP,KAAM,gBACNS,KAAM,8HAGVA,KAAM,qHACNE,YACE,wRA+ESE,UA3EF,SAACC,GAAW,IAAD,EACcC,qBADd,mBACfC,EADe,KACHC,EADG,OAEYF,mBAAS,GAFrB,mBAEfG,EAFe,KAEJC,EAFI,KAGhBC,EAAUC,cAEhBC,qBAAU,WACR,IAAMC,EAAOC,cACPC,EAAWC,cACjBT,EAAcM,GACdJ,EAAaM,KACZ,IAEH,IAKME,EAAa,SAACC,EAAMC,GACxBC,YAAeF,EAAKrB,IACpBa,EAAQW,KAAK,CACXC,SAAS,GAAD,OAAKJ,EAAK5B,KAAV,YAAkB4B,EAAKrB,IAC/B0B,OAAQC,mBAAmB,SAAD,OAAUL,EAAV,iBAA2BD,EAAKnB,UAI9D,OACE,kBAAC,IAAD,KACGK,EAAMb,SACP,kBAAC,IAAD,CAAUkC,WAAW,EAAMC,SAhBd,SAACC,GAChBpB,EAAcoB,GACdC,YAAYD,IAcqCnB,UAAWF,GACvDjB,EAASS,KAAI,SAAC+B,GACb,OAAIA,EAAMC,OAAe,KAClBD,EAAMtC,SACX,kBAAC,IAASwC,MAAV,CACEC,IAAKH,EAAMvC,KACXU,MAAO,0BAAMiC,UAAU,YAAYJ,EAAM9B,OAExC8B,EAAMtC,SAASO,KAAI,SAACoC,EAAOC,GAAR,OAClB,yBAAKH,IAAKG,GACR,yBACEF,UAAU,kBACVG,MAAO,CACLC,MAAOH,EAAMrC,KAAOW,EAAY,OAAS,UACzC8B,QAAS,GAEXC,QAAS,kBAAMtB,EAAWiB,EAAOL,EAAM9B,QAEtCmC,EAAMnC,WAMf,kBAAC,IAASgC,MAAV,CACEC,IAAKH,EAAMvC,KACXkD,OAAO,EACPxC,MACE,yBACEiC,UAAU,WACVG,MAAO,CACLC,MAAOR,EAAMhC,KAAOW,EAAY,OAAS,OACzC8B,QAAS,GAEXC,QAAS,kBAAMtB,EAAWY,EAAOA,EAAM9B,QAEtC8B,EAAM9B,e,iCC1HzB,kPAKa0C,EAAc,kBACzBC,KAAKC,MAAMC,aAAaC,QANP,iBAM8B,OACpCC,EAAc,SAACC,GAAD,OACzBH,aAAaI,QARI,eAQgBN,KAAKO,UAAUF,KACrCG,EAAiB,kBAAMN,aAAaO,WAT9B,iBAYNrC,EAAc,kBAAM8B,aAAaC,QAX3B,iBAWkD,MACxDjB,EAAc,SAACwB,GAAD,OACzBR,aAAaI,QAbI,eAagBI,IAItBpC,EAAiB,kBAAMqC,OAAOT,aAAaC,QAhBpC,mBAiBPzB,EAAiB,SAACvB,GAAD,OAAQ+C,aAAaI,QAjB/B,gBAiBoDnD","file":"static/js/index.ea69e640.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  getActiveTitle,\n  getCollapse,\n  setActiveTitle,\n  setCollapse,\n} from \"../../utils/storage\";\n\nimport { Collapse } from \"antd-mobile\";\nimport MenuList from \"../../layout/MenuList\";\nimport { routerList } from \"../../data/marx\";\nimport { useHistory } from \"react-router\";\n\n// import { NavLink } from \"react-router-dom\";\n\nconst extArr = [\n  515, 516, 523, 524, 525, 526, 527, 1017, 1326, 1327, 1642, 1744,\n];\n\nconst marxChildren = routerList.results\n  .filter((f) => !extArr.includes(f.id))\n  .map(({ title, id }) => ({\n    name: title,\n    id,\n    path: \"/marx/chapter\",\n  }));\n\nconst marxList = [\n  {\n    path: \"/marx/\",\n    children: marxChildren,\n    name: \"03709 马克思主义基本原理概论\",\n    description:\n      \"马克思主义基本原理概论（03709）是高等教育自学考试各专业本科阶段的一门公共基础课。本课程共7章内容，重点在第1章、第2章、第3章、第4章、第5章、第6章；次重点在第7章。\",\n  },\n  {\n    path: \"/marx/chapter\",\n    exact: true,\n    id: 3708,\n    name: \"03708 中国近现代史纲要\",\n    description:\n      \"中国近现代史（03708）是高等教育自学考试各专业本科阶段的一门公共基础课。本课程共11章内容，重点在第1章、第2章、第3章、第5章、第6章、第8章、第11章；次重点在第4章、第7章、第9章、第10章。\",\n  },\n  {\n    path: \"/marx/think\",\n    children: [\n      {\n        id: 12656,\n        path: \"/marx/chapter\",\n        name: \"绪论 毛泽东思想和中国特色社会主义思想概论\",\n      },\n    ],\n    name: \"12656 毛泽东思想和中国特色社会主义思想概论\",\n    description:\n      \"毛泽东思想和中国特色社会主义思想概论（12656）是高等教育自学考试各专业专科阶段的一门公共基础课。\",\n  },\n];\n\nconst Home = (props) => {\n  const [isCollapse, setIsCollapse] = useState();\n  const [activeKey, setActiveKey] = useState(0);\n  const history = useHistory();\n\n  useEffect(() => {\n    const coll = getCollapse();\n    const activeId = getActiveTitle();\n    setIsCollapse(coll);\n    setActiveKey(activeId);\n  }, []);\n\n  const onChange = (value) => {\n    setIsCollapse(value);\n    setCollapse(value);\n  };\n\n  const onJumpList = (item, bigTitle) => {\n    setActiveTitle(item.id);\n    history.push({\n      pathname: `${item.path}/${item.id}`,\n      search: encodeURIComponent(`title=${bigTitle}&name=${item.name}`),\n    });\n  };\n\n  return (\n    <MenuList>\n      {props.children}\n      <Collapse accordion={true} onChange={onChange} activeKey={isCollapse}>\n        {marxList.map((route) => {\n          if (route.hidden) return null;\n          return route.children ? (\n            <Collapse.Panel\n              key={route.path}\n              title={<span className=\"ellipsis\">{route.name}</span>}\n            >\n              {route.children.map((child, index) => (\n                <div key={index}>\n                  <div\n                    className=\"ellipsis cursor\"\n                    style={{\n                      color: child.id === activeKey ? \"#f60\" : \"#4a25df\",\n                      padding: 5,\n                    }}\n                    onClick={() => onJumpList(child, route.name)}\n                  >\n                    {child.name}\n                  </div>\n                </div>\n              ))}\n            </Collapse.Panel>\n          ) : (\n            <Collapse.Panel\n              key={route.path}\n              arrow={false}\n              title={\n                <div\n                  className=\"ellipsis\"\n                  style={{\n                    color: route.id === activeKey ? \"#f60\" : \"#333\",\n                    padding: 5,\n                  }}\n                  onClick={() => onJumpList(route, route.name)}\n                >\n                  {route.name}\n                </div>\n              }\n            ></Collapse.Panel>\n          );\n        })}\n      </Collapse>\n    </MenuList>\n  );\n};\n\nexport default Home;\n","const __userinfo = \"__userinfo__\";\nconst __collapse = \"__collapse__\";\nconst __activeKey = \"__activeKey__\";\n\n/** 保存用户名和密码 */\nexport const getUserInfo = () =>\n  JSON.parse(localStorage.getItem(__userinfo) || \"{}\");\nexport const setUserInfo = (userinfo) =>\n  localStorage.setItem(__userinfo, JSON.stringify(userinfo));\nexport const removeUserInfo = () => localStorage.removeItem(__userinfo);\n\n/** 保存菜单展开 */\nexport const getCollapse = () => localStorage.getItem(__collapse) || null;\nexport const setCollapse = (collapse) =>\n  localStorage.setItem(__collapse, collapse);\nexport const removeCollapse = () => localStorage.removeItem(__collapse);\n\n/** 保存点击的文章id */\nexport const getActiveTitle = () => Number(localStorage.getItem(__activeKey));\nexport const setActiveTitle = (id) => localStorage.setItem(__activeKey, id);\nexport const removeActiveTitle = () => localStorage.removeItem(__activeKey);\n"],"sourceRoot":""}